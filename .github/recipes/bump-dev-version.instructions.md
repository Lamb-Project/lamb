```instructions
---
description: Bump the `dev` version and create an annotated tag
---

# Bump the dev version

## Purpose
Short, repeatable instructions to bump the `dev` version used by the frontend build and to create a corresponding annotated Git tag.

---

## Files involved ðŸ”§

- `frontend/svelte-app/scripts/generate-version.js` (source of record for the dev version)
- `frontend/svelte-app/src/lib/version.js` (auto-generated by the script; usually git-ignored)

> Note: the generated file (`src/lib/version.js`) is normally ignored by git. You generally commit only the change to the generator script.

---

## Step-by-step procedure (recommended) âœ…

1. Update the version in the generator script:

```bash
# Edit the file and change the version string
sed -n '1,120p' frontend/svelte-app/scripts/generate-version.js
# Change: version: '0.3' -> version: '0.4'
```

2. Run the generator to refresh the generated file:

```bash
node frontend/svelte-app/scripts/generate-version.js
# This writes frontend/svelte-app/src/lib/version.js with current commit/branch/date.
```

3. Verify the generated file contains the new version and a recent commit hash:

```bash
cat frontend/svelte-app/src/lib/version.js
```

4. Commit the *script* change (do not add the generated file unless you intentionally want it tracked):

```bash
git add frontend/svelte-app/scripts/generate-version.js
git commit -m "chore: bump dev version to 0.4"
```

5. Create an annotated tag and push:

```bash
git tag -a v0.4 -m "Release v0.4"
git push origin HEAD
git push origin v0.4
```


---

If anything about your release process deviates (for example you want the generated file tracked, or you want the tag naming convention different), adapt accordingly and record the variation here.
