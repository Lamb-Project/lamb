# LAMB Next Docker Compose Environment Configuration
# Copy this file to .env (same directory as docker-compose.next.yaml).
#
# Current phase policy:
# - Required vars are UNCOMMENTED below (must be set).
# - Optional vars are COMMENTED and can be enabled only if needed.

# ============================================================================
# REQUIRED VARIABLES (compose fails if missing)
# ============================================================================

# Public/internal LAMB URLs
LAMB_WEB_HOST=http://localhost:9099
LAMB_BACKEND_HOST=http://localhost:9099

# Database/data paths inside container
LAMB_DB_PATH=/data/lamb
OWI_PATH=/data/openwebui

# OpenWebUI internal API URL
OWI_BASE_URL=http://openwebui:8080

# Auth/secrets required by current backend config
LAMB_BEARER_TOKEN=change-me
SIGNUP_SECRET_KEY=change-me

# OpenAI provider required by current backend config
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o-mini

# OpenWebUI bootstrap admin required by current backend config
OWI_ADMIN_NAME=Admin User
OWI_ADMIN_EMAIL=admin@owi.com
OWI_ADMIN_PASSWORD=admin

# ============================================================================
# OPTIONAL VARIABLES (uncomment to override defaults)
# ============================================================================

# Ports
# LAMB_PORT=9099
# KB_PORT=9090
# OPENWEBUI_PORT=8080

# OpenWebUI public/browser URL
# OWI_PUBLIC_BASE_URL=http://localhost:8080

# Additional tokens/keys
# LAMB_KB_SERVER_TOKEN=change-me
# LAMB_API_KEY=change-me
# OPENAI_API_KEY=

# LAMB/KB integration
# LAMB_KB_SERVER=http://kb:9090
# KB_HOME_URL=http://localhost:9090

# KB embeddings
# EMBEDDINGS_MODEL=nomic-embed-text
# EMBEDDINGS_VENDOR=ollama
# EMBEDDINGS_ENDPOINT=http://host.docker.internal:11434/api/embeddings
# EMBEDDINGS_APIKEY=

# KB optional Firecrawl integration
# FIRECRAWL_API_URL=http://host.docker.internal:3002
# FIRECRAWL_API_KEY=

# OpenAI model listing
# OPENAI_MODELS=gpt-4o-mini,gpt-4o

# Ollama
# OLLAMA_BASE_URL=http://host.docker.internal:11434
# OLLAMA_MODEL=nomic-embed-text

# Feature/runtime toggles
# SIGNUP_ENABLED=true
# LTI_SECRET=change-me
# DEV_MODE=false
# GLOBAL_LOG_LEVEL=WARNING

# OpenWebUI trusted headers/role/secret
# WEBUI_AUTH_TRUSTED_EMAIL_HEADER=X-User-Email
# WEBUI_AUTH_TRUSTED_NAME_HEADER=X-User-Name
# DEFAULT_USER_ROLE=user
# WEBUI_SECRET_KEY=

# Production Caddy overlay (docker-compose.next.prod.yaml)
# CADDY_EMAIL=admin@yourdomain.com
# LAMB_PUBLIC_HOST=lamb.yourdomain.com
# OWI_PUBLIC_HOST=owi.lamb.yourdomain.com
