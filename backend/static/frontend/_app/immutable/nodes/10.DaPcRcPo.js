import{t as p,a as d,d as Nr,b as Je,s,n as Fr,r as za,e as Pr,c as ia,h as Sr}from"../chunks/C82hPXC8.js";import{p as Da,a6 as C,o as La,a as Ma,s as r,c as a,j as v,i as e,d as zr,r as t,t as u,f as Pe,a7 as Kr}from"../chunks/DZNCS3vC.js";import{p as B}from"../chunks/B_zbZ6nJ.js";import{s as Oa,a as va}from"../chunks/CVH_3kCa.js";import{a as ja,$ as Ia}from"../chunks/weotW1oH.js";import{p as Dr}from"../chunks/DbCUo_rN.js";import{s as V}from"../chunks/D_NCb2YC.js";import{i as m}from"../chunks/fI70I6vP.js";import{e as ot,i as bt}from"../chunks/D6J79d0_.js";import{r as ht,s as Ge,a as Ka}from"../chunks/D5v_xaba.js";import{b as zt,a as Lr}from"../chunks/ei6fuu5i.js";import{b as Mr,i as na,s as da}from"../chunks/TETYgnKo.js";import{b as Or}from"../chunks/Bs9d3Mef.js";import{g as jr}from"../chunks/JSp2UL00.js";import{b as Ir,d as qr,u as Ur,p as Rr,e as Tr,q as Qr,f as Vr}from"../chunks/BhMXpYJc.js";function Hr(j,x,E){const oe=j.target;v(x,B(oe.value)),E(e(x))}function Jr(j,x,E){const oe=j.target;if(oe&&oe.files){const o=Array.from(oe.files||[]);v(x,B(o)),e(E)&&(e(E).value="")}}async function Gr(j,x,E,oe,o,be,Se,l,Ie,g,de,X){if(e(x).length!==0){v(E,!0),v(oe,""),v(o,"");try{if(e(be)&&e(Se)){const H=[];for(const T of e(x)){const lt=await Rr(e(l),T,e(Se),e(Ie));H.push(lt)}console.log("Files ingested with plugin:",H)}else await Tr(e(l),e(x));v(x,B([])),await g(),v(o,B(e(de)?X()("knowledgeBases.uploadSuccess"):"Files uploaded successfully"))}catch(H){console.error("Error uploading files:",V(H));const T=H;v(oe,B(T&&T.message?T.message:"Error uploading files"))}finally{v(E,!1)}}}function $r(j,x,E,oe){var o,be;e(x)&&v(E,B({name:e(x).name||"",description:((o=e(x).metadata)==null?void 0:o.description)||"",access_control:((be=e(x).metadata)==null?void 0:be.access_control)||"private"})),v(oe,!1)}var Wr=Fr('<svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> ',1),Xr=p('<button class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"> </button> <button class="px-4 py-2 bg-[#2271b3] text-white rounded-md hover:bg-[#195a91] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2271b3] flex items-center disabled:opacity-50 disabled:cursor-not-allowed"><!></button>',1),Yr=()=>jr("/knowledgebases"),Zr=p('<button title="Currently collections cannot be edited" class="px-4 py-2 bg-[#2271b3] text-white rounded-md opacity-50 cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2271b3]"> </button> <button class="px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"> </button>',1),es=p('<div class="flex justify-center items-center py-10"><svg class="animate-spin h-8 w-8 text-[#2271b3]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="ml-3 text-gray-600"> </span></div>'),ts=p('<div class="bg-red-50 p-4 rounded-md"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800"> </h3> <div class="mt-2 text-sm text-red-700"> </div> <div class="mt-4"><button class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-[#195a91] bg-[#e9ecef] hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2271b3]"> </button></div></div></div></div>'),as=p('<div class="bg-green-50 p-4 rounded-md mb-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm font-medium text-green-800"> </p></div></div></div>'),rs=p('<div class="bg-red-50 p-4 rounded-md mb-4"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm font-medium text-red-800"> </p></div></div></div>'),ss=p('<form class="space-y-6"><div><label for="name" class="block text-sm font-medium text-gray-700"> </label> <input type="text" id="name" required class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-[#2271b3] focus:border-[#2271b3]"></div> <div><label for="description" class="block text-sm font-medium text-gray-700"> </label> <textarea id="description" rows="3" class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-[#2271b3] focus:border-[#2271b3]"></textarea></div> <div><label for="access_control" class="block text-sm font-medium text-gray-700"> </label> <select id="access_control" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-[#2271b3] focus:border-[#2271b3] rounded-md"><option> </option><option> </option></select></div></form>'),os=p('<div class="text-center py-2"><svg class="animate-spin mx-auto h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <p class="mt-1 text-sm text-gray-600">Loading ingestion plugins...</p></div>'),ls=p('<div class="text-center py-2 text-red-600 text-sm"> </div>'),is=p('<div class="text-center py-2 text-gray-600 text-sm">No ingestion plugins available</div>'),ns=p("<option> </option>"),ds=(j,x,E)=>x(E(),Number(j.target.value)),vs=p('<input type="number" class="w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">'),cs=(j,x,E)=>x(E(),j.target.value==="true"),us=p('<select class="w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"><option>True</option><option>False</option></select>'),gs=(j,x,E)=>x(E(),j.target.value),ps=p("<option> </option>"),fs=p('<select class="w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"></select>'),ms=(j,x,E)=>x(E(),j.target.value),_s=p('<input type="text" class="w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500">'),xs=p('<div class="mb-3"><label class="block text-sm font-medium text-gray-700 mb-1"> <span class="text-xs text-gray-500 ml-1"> </span></label> <!></div>'),bs=p('<p class="text-sm text-gray-600">No configurable parameters for this plugin</p>'),hs=p('<div class="mb-4 border-t pt-3"><h5 class="text-sm font-medium text-gray-700 mb-3"> </h5> <!></div>'),ws=p('<div class="mb-4"><label for="ingestionPlugin" class="block text-sm font-medium text-gray-700 mb-1"> </label> <select id="ingestionPlugin" class="w-full p-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"></select></div> <!>',1),ys=p('<div class="mb-4 bg-white p-4 border border-gray-200 rounded-md"><!></div>'),ks=p('<span class="flex items-center"><svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> </span>'),Bs=p('<div class="mt-2 text-sm text-gray-600"><!></div>'),As=p('<div class="mt-2 text-sm text-red-600"> </div>'),Cs=(j,x)=>x(),Es=p('<div class="text-center py-6 bg-red-50 rounded-md"><svg class="mx-auto h-12 w-12 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <h3 class="mt-2 text-sm font-medium text-red-800"> </h3> <p class="mt-1 text-sm text-red-600"> </p> <button class="mt-3 text-sm text-blue-500 hover:text-blue-700 focus:outline-none"> </button></div>'),Ns=p('<a target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 hover:underline"> </a>'),Fs=(j,x,E)=>x(e(E).id),Ps=p('<tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"><!></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"></td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><button class="text-red-600 hover:text-red-900"> </button></td></tr>'),Ss=p('<div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-50"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> </th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> </th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> </th><th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> </th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div>'),zs=p('<div class="text-center py-6 bg-gray-50 rounded-md"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900"> </h3> <p class="mt-1 text-sm text-gray-500"> </p></div>'),Ks=(j,x)=>x(),Ds=p('<span class="inline-block mr-2"><svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></span> ',1),Ls=p('<div class="mt-3 p-3 bg-red-50 text-red-700 rounded-md"><p><strong>Error:</strong> </p></div>'),Ms=p("<p><strong>Response Keys:</strong> </p> <p><strong>Plugin Params:</strong> </p>",1),Os=p('<div class="mt-2 text-xs text-gray-500"><p><strong>Source:</strong> </p></div>'),js=p('<li class="p-3 bg-white rounded-md shadow-sm border border-gray-200"><p class="mb-2 text-sm text-gray-500"> </p> <div class="prose max-w-none"><p class="whitespace-pre-wrap"> </p></div> <!></li>'),Is=p('<p class="mt-1"><a target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 hover:underline"> </a></p>'),qs=p('<div class="mt-2 text-xs text-gray-500"><p><strong>Source:</strong> </p> <!></div>'),Us=p('<li class="p-3 bg-white rounded-md shadow-sm border border-gray-200"><p class="mb-2 text-sm text-gray-500"> </p> <div class="prose max-w-none"><p class="whitespace-pre-wrap"> </p></div> <!></li>'),Rs=p('<ul class="space-y-4"><!></ul>'),Ts=p('<p class="text-gray-600"> </p>'),Qs=p('<div class="mt-4 border-t pt-4"><h4 class="font-medium text-gray-800 mb-2"> </h4> <div class="mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md"><details><summary class="font-medium text-gray-700 cursor-pointer"> </summary> <div class="mt-2 text-sm"><p><strong>Query:</strong> </p> <p><strong>KB ID:</strong> </p> <p><strong>Status:</strong> </p> <!> <p><strong>Raw Response:</strong></p> <pre class="mt-1 p-2 bg-gray-100 rounded-md overflow-auto text-xs max-h-64"> </pre></div></details></div> <div class="bg-gray-50 p-4 rounded-md overflow-auto max-h-96"><!></div></div>'),Vs=p(`<div class="bg-gray-50 p-4 rounded-md mb-6"><h3 class="text-lg font-medium text-gray-900 mb-4"> </h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><h4 class="text-sm font-medium text-gray-500"> </h4> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><h4 class="text-sm font-medium text-gray-500"> </h4> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><h4 class="text-sm font-medium text-gray-500"> </h4> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><h4 class="text-sm font-medium text-gray-500"> </h4> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><h4 class="text-sm font-medium text-gray-500"> </h4> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><h4 class="text-sm font-medium text-gray-500"> </h4> <p class="mt-1"><span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"> </span></p></div></div></div> <div><h3 class="text-lg font-medium text-gray-900 mb-4"> </h3> <div class="bg-gray-50 p-4 rounded-md mb-6"><h4 class="text-sm font-medium text-gray-700 mb-2"> </h4> <div class="flex items-center justify-between mb-4"><div class="flex items-center"><label class="inline-flex items-center cursor-pointer"><input type="checkbox" class="sr-only peer"> <div class="relative w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div> <span class="ml-3 text-sm font-medium text-gray-700"> </span></label></div></div> <!> <div class="flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-2"><input type="file" multiple class="block text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-[#e9ecef] file:text-[#195a91] hover:file:bg-gray-200"> <button class="px-4 py-2 bg-[#2271b3] text-white rounded-md hover:bg-[#195a91] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2271b3] disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div> <!> <!></div> <!> <div class="mt-8 border-t pt-6"><h3 class="text-lg font-medium text-gray-900 mb-4"> </h3> <div class="bg-white p-4 rounded-md border border-gray-200"><p class="text-sm text-gray-600 mb-3"> </p> <div><textarea class="w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" rows="3"></textarea> <div class="mt-3 flex items-center"><label for="topK" class="mr-2 text-sm text-gray-700"> </label> <input id="topK" type="number" min="1" max="10" class="w-16 p-1 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-center"></div> <div class="mt-3 flex justify-end"><button class="px-4 py-2 bg-[#2271b3] text-white rounded-md hover:bg-[#1a5a8e] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50"><!></button></div> <!> <!></div></div></div></div>`,1),Hs=p("<!> <!> <!>",1),Js=p('<div class="bg-white shadow-md rounded-lg overflow-hidden border border-gray-200"><div class="p-5 border-b border-gray-200 flex justify-between items-center"><h2 class="text-xl font-semibold text-gray-800"><!></h2> <div class="flex space-x-2"><!></div></div> <div class="p-5"><!></div></div>');function Gs(j,x){Da(x,!0);const[E,oe]=Oa(),o=()=>va(Ia,"$_",E),be=zr(()=>x.kbId);let Se=C(B(x.isEditing||!1)),l=C(!1),Ie=C(""),g=C(null),de=C(!0),X=C(""),H=C(""),T=C(B({name:"",description:"",access_control:"private"})),lt=C(null),Kt=C(!1),Dt=C(""),Ke=C(B([])),wt=C(!1),Lt=C(!1),yt=C(""),qe=C(B([])),he=C(""),Y=C(B({})),it=C(""),kt=C(3),Ye=C(!1),Bt=C(""),K=C(null);La(()=>{const i=ja.subscribe(n=>{n&&v(l,!0)});return Ze(),qa(),i});async function Ze(){var i,n,_,z,k,we,Be,ve,Q;v(de,!0),v(X,""),v(Ie,"");try{const Z=await Ir(e(be));v(g,B(Z)),console.log("Loaded knowledge base (full response):",JSON.stringify(V(Z),null,2)),console.log("Knowledge base ID:",(i=V(e(g)))==null?void 0:i.id),console.log("Knowledge base name:",(n=V(e(g)))==null?void 0:n.name),console.log("Knowledge base description:",(_=V(e(g)))==null?void 0:_.description),console.log("Knowledge base metadata raw:",(z=V(e(g)))==null?void 0:z.metadata),console.log("Knowledge base files:",(k=V(e(g)))==null?void 0:k.files);const R=V(e(g));if(R&&R.files&&Array.isArray(R.files)?(console.log("Number of files:",R.files.length),R.files.forEach((N,et)=>{console.log(`File ${et+1}:`,N)})):console.warn("No files array found in knowledge base response"),(we=e(g))!=null&&we.metadata)if(typeof e(g).metadata=="string"){console.log("Metadata is a string, attempting to parse");try{const N=JSON.parse(e(g).metadata);console.log("Parsed metadata:",V(N))}catch(N){console.error("Failed to parse metadata string:",V(N))}}else{console.log("Metadata is an object type:",typeof V(e(g)).metadata);const N=V(e(g));(Be=N==null?void 0:N.metadata)!=null&&Be.description&&console.log("Metadata description:",N.metadata.description)}if(console.log("Files from knowledge base response:",((ve=e(g))==null?void 0:ve.files)||[]),e(g)){let N="";e(g).description&&typeof e(g).description=="string"&&e(g).description.trim()!==""?(N=e(g).description,console.log("Using description from direct property:",V(N))):e(g).metadata&&e(g).metadata.description&&typeof e(g).metadata.description=="string"&&e(g).metadata.description.trim()!==""?(N=e(g).metadata.description,console.log("Using description from metadata:",V(N))):console.log("No valid description found in any location"),console.log("Final description being used:",V(N)),v(T,B({name:e(g).name||"",description:N,access_control:((Q=e(g).metadata)==null?void 0:Q.access_control)||"private"}))}}catch(Z){console.error("Error loading knowledge base:",V(Z));const R=Z;v(X,B(R&&R.message?R.message:"Error loading knowledge base"))}finally{v(de,!1)}}async function qa(){v(Lt,!0),v(yt,"");try{const i=await qr();console.log("Available ingestion plugins:",i),v(qe,B(Object.keys(i).map(n=>({name:n,description:i[n].description||`Plugin: ${n}`,parameters:i[n].parameters||{},supported_file_types:i[n].supported_file_types||[]})))),e(qe).length>0&&(v(he,B(e(qe)[0].name)),ca(e(he)))}catch(i){console.error("Error loading ingestion plugins:",i);const n=i;v(yt,B(n&&n.message?n.message:"Error loading ingestion plugins"))}finally{v(Lt,!1)}}function ca(i){const n=e(qe).find(z=>z.name===i);if(!n)return;const _={};Object.keys(n.parameters).forEach(z=>{const k=n.parameters[z];k.default!==void 0?_[z]=k.default:k.type==="number"||k.type==="integer"?_[z]=0:k.type==="boolean"?_[z]=!1:_[z]=""}),v(Y,B(_))}function At(i,n){v(Y,B({...e(Y),[i]:n}))}async function ua(){v(de,!0),v(X,""),v(H,"");try{const i=e(T).description||"",n={name:e(T).name,description:i,metadata:{description:i,access_control:e(T).access_control},access_control:e(T).access_control};console.log("Update data with description at root level:",i),console.log("Updating knowledge base:",V(n)),await Ur(e(be),n),await Ze(),v(H,B(e(l)?o()("knowledgeBases.updateSuccess"):"Knowledge base updated successfully")),v(Se,!1)}catch(i){console.error("Error updating knowledge base:",V(i));const n=i;v(X,B(n&&n.message?n.message:"Error updating knowledge base"))}finally{v(de,!1)}}async function Ua(i){if(confirm(e(l)?o()("knowledgeBases.confirmDeleteFile"):"Are you sure you want to delete this file?")){v(de,!0),v(X,""),v(H,"");try{await Vr(e(be),i),await Ze(),v(H,B(e(l)?o()("knowledgeBases.fileDeleteSuccess"):"File deleted successfully"))}catch(n){console.error("Error deleting file:",n);const _=n;v(X,B(_&&_.message?_.message:"Error deleting file"))}finally{v(de,!1)}}}async function Ra(){if(e(it).trim()){v(Bt,""),v(K,null),v(Ye,!0);try{const i=await Qr(e(be),e(it),{pluginParams:{top_k:e(kt)}});v(K,B(i)),console.log("Query results:",e(K),"Top k:",e(kt))}catch(i){console.error("Error querying knowledge base:",i);const n=i;v(Bt,B(n&&n.message?n.message:"Error querying knowledge base"))}finally{v(Ye,!1)}}}function Ta(i){if(!i)return"Unknown";const n=["B","KB","MB","GB"];let _=i,z=0;for(;_>=1024&&z<n.length-1;)_/=1024,z++;return`${_.toFixed(1)} ${n[z]}`}function Qa(i){return i?new Date(i).toLocaleString():"N/A"}var Mt=Js(),Ot=a(Mt),jt=a(Ot),Va=a(jt);{var Ha=i=>{var n=Je();u(_=>s(n,_),[()=>e(l)?o()("knowledgeBases.editKnowledgeBase"):"Edit Knowledge Base"]),d(i,n)},Ja=i=>{var n=Je();u(_=>s(n,_),[()=>e(l)?o()("knowledgeBases.knowledgeBaseDetails"):"Knowledge Base Details"]),d(i,n)};m(Va,i=>{e(Se)?i(Ha):i(Ja,!1)})}t(jt);var ga=r(jt,2),Ga=a(ga);{var $a=i=>{var n=Xr(),_=Pe(n);_.__click=[$r,g,T,Se];var z=a(_,!0);t(_);var k=r(_,2);k.__click=ua;var we=a(k);{var Be=Q=>{var Z=Wr(),R=r(Pe(Z),1,!0);u(N=>s(R,N),[()=>e(l)?o()("knowledgeBases.saving"):"Saving..."]),d(Q,Z)},ve=Q=>{var Z=Je();u(R=>s(Z,R),[()=>e(l)?o()("knowledgeBases.save"):"Save Changes"]),d(Q,Z)};m(we,Q=>{e(de)?Q(Be):Q(ve,!1)})}t(k),u(Q=>{s(z,Q),k.disabled=e(de)},[()=>e(l)?o()("knowledgeBases.cancel"):"Cancel"]),d(i,n)},Wa=i=>{var n=Zr(),_=Pe(n);_.disabled=!0;var z=a(_,!0);t(_);var k=r(_,2);k.__click=[Yr];var we=a(k,!0);t(k),u((Be,ve)=>{s(z,Be),s(we,ve)},[()=>e(l)?o()("knowledgeBases.edit"):"Edit",()=>e(l)?o()("knowledgeBases.backToList"):"Back to List"]),d(i,n)};m(Ga,i=>{e(Se)?i($a):i(Wa,!1)})}t(ga),t(Ot);var pa=r(Ot,2),Xa=a(pa);{var Ya=i=>{var n=es(),_=r(a(n),2),z=a(_,!0);t(_),t(n),u(k=>s(z,k),[()=>e(l)?o()("knowledgeBases.loading"):"Loading knowledge base..."]),d(i,n)},Za=(i,n)=>{{var _=k=>{var we=ts(),Be=a(we),ve=r(a(Be),2),Q=a(ve),Z=a(Q,!0);t(Q);var R=r(Q,2),N=a(R,!0);t(R);var et=r(R,2),nt=a(et);nt.__click=Ze;var It=a(nt,!0);t(nt),t(et),t(ve),t(Be),t(we),u((qt,ee)=>{s(Z,qt),s(N,e(X)),s(It,ee)},[()=>e(l)?o()("knowledgeBases.errorLoading"):"Error loading knowledge base",()=>e(l)?o()("knowledgeBases.tryAgain"):"Try Again"]),d(k,we)},z=(k,we)=>{{var Be=ve=>{var Q=Hs(),Z=Pe(Q);{var R=ee=>{var ae=as(),ce=a(ae),ue=r(a(ce),2),De=a(ue),Le=a(De,!0);t(De),t(ue),t(ce),t(ae),u(()=>s(Le,e(H))),d(ee,ae)};m(Z,ee=>{e(H)&&ee(R)})}var N=r(Z,2);{var et=ee=>{var ae=rs(),ce=a(ae),ue=r(a(ce),2),De=a(ue),Le=a(De,!0);t(De),t(ue),t(ce),t(ae),u(()=>s(Le,e(X))),d(ee,ae)};m(N,ee=>{e(X)&&ee(et)})}var nt=r(N,2);{var It=ee=>{var ae=ss(),ce=a(ae),ue=a(ce),De=a(ue,!0);t(ue);var Le=r(ue,2);ht(Le),t(ce);var $e=r(ce,2),We=a($e),Ut=a(We,!0);t(We);var dt=r(We,2);za(dt),t($e);var Ct=r($e,2),Xe=a(Ct),vt=a(Xe,!0);t(Xe);var ct=r(Xe,2),Ue=a(ct);Ue.value=(Ue.__value="private")==null?"":"private";var Rt=a(Ue,!0);t(Ue);var Re=r(Ue);Re.value=(Re.__value="public")==null?"":"public";var ut=a(Re,!0);t(Re),t(ct),t(Ct),t(ae),u((Ae,Et,Tt,gt,pt)=>{s(De,Ae),s(Ut,Et),s(vt,Tt),s(Rt,gt),s(ut,pt)},[()=>e(l)?o()("knowledgeBases.name"):"Name",()=>e(l)?o()("knowledgeBases.description"):"Description",()=>e(l)?o()("knowledgeBases.accessControl"):"Access Control",()=>e(l)?o()("knowledgeBases.private"):"Private",()=>e(l)?o()("knowledgeBases.public"):"Public"]),Pr("submit",ae,Ae=>{Ae.preventDefault(),ua()}),zt(Le,()=>e(T).name,Ae=>e(T).name=Ae),zt(dt,()=>e(T).description,Ae=>e(T).description=Ae),Mr(ct,()=>e(T).access_control,Ae=>e(T).access_control=Ae),d(ee,ae)},qt=ee=>{var ae=Vs(),ce=Pe(ae),ue=a(ce),De=a(ue,!0);t(ue);var Le=r(ue,2),$e=a(Le),We=a($e),Ut=a(We,!0);t(We);var dt=r(We,2),Ct=a(dt,!0);t(dt),t($e);var Xe=r($e,2),vt=a(Xe),ct=a(vt,!0);t(vt);var Ue=r(vt,2),Rt=a(Ue,!0);t(Ue),t(Xe);var Re=r(Xe,2),ut=a(Re),Ae=a(ut,!0);t(ut);var Et=r(ut,2),Tt=a(Et,!0);t(Et),t(Re);var gt=r(Re,2),pt=a(gt),er=a(pt,!0);t(pt);var fa=r(pt,2),tr=a(fa,!0);t(fa),t(gt);var Qt=r(gt,2),Vt=a(Qt),ar=a(Vt,!0);t(Vt);var ma=r(Vt,2),rr=a(ma,!0);t(ma),t(Qt);var _a=r(Qt,2),Ht=a(_a),sr=a(Ht,!0);t(Ht);var xa=r(Ht,2),ba=a(xa),or=a(ba,!0);t(ba),t(xa),t(_a),t(Le),t(ce);var ha=r(ce,2),Jt=a(ha),lr=a(Jt,!0);t(Jt);var Gt=r(Jt,2),$t=a(Gt),ir=a($t,!0);t($t);var Wt=r($t,2),wa=a(Wt),ya=a(wa),Xt=a(ya);ht(Xt);var ka=r(Xt,4),nr=a(ka,!0);t(ka),t(ya),t(wa),t(Wt);var Ba=r(Wt,2);{var dr=c=>{var f=ys(),F=a(f);{var re=P=>{var D=os();d(P,D)},te=(P,D)=>{{var ge=A=>{var I=ls(),G=a(I,!0);t(I),u(()=>s(G,e(yt))),d(A,I)},J=(A,I)=>{{var G=q=>{var ye=is();d(q,ye)},pe=q=>{var ye=ws(),le=Pe(ye),ze=a(le),Ce=a(ze,!0);t(ze);var Ee=r(ze,2);na(Ee,()=>e(he));var Te;Ee.__change=[Hr,he,ca],ot(Ee,21,()=>e(qe),bt,(se,b)=>{var h=ns(),S={},ie=a(h);t(h),u(()=>{S!==(S=e(b).name)&&(h.value=(h.__value=e(b).name)==null?"":e(b).name),s(ie,`${e(b).name??""} - ${e(b).description??""}`)}),d(se,h)}),t(Ee),t(le);var mt=r(le,2);{var tt=se=>{var b=hs(),h=a(b),S=a(h,!0);t(h);var ie=r(h,2);{var Ne=L=>{var U=ia(),Fe=Pe(U);ot(Fe,17,()=>{var M;return Object.entries(((M=e(qe).find($=>$.name===e(he)))==null?void 0:M.parameters)||{})},bt,(M,$)=>{let w=()=>e($)[0],y=()=>e($)[1];var O=xs(),fe=a(O),at=a(fe),Qe=r(at),rt=a(Qe,!0);t(Qe),t(fe);var Me=r(fe,2);{var Oe=ne=>{var me=vs();ht(me),me.__change=[ds,At,w],u(()=>{Ge(me,"id",`param-${w()}`),Ka(me,e(Y)[w()]||0)}),d(ne,me)},st=(ne,me)=>{{var _t=Ve=>{var _e=us();na(_e,()=>e(Y)[w()]?"true":"false");var He;_e.__change=[cs,At,w];var je=a(_e);je.value=(je.__value="true")==null?"":"true";var xe=r(je);xe.value=(xe.__value="false")==null?"":"false",t(_e),u(()=>{Ge(_e,"id",`param-${w()}`),He!==(He=e(Y)[w()]?"true":"false")&&(_e.value=(_e.__value=e(Y)[w()]?"true":"false")==null?"":e(Y)[w()]?"true":"false",da(_e,e(Y)[w()]?"true":"false"))}),d(Ve,_e)},la=(Ve,_e)=>{{var He=xe=>{var W=fs();na(W,()=>e(Y)[w()]||"");var Pt;W.__change=[gs,At,w],ot(W,21,()=>y().enum,bt,(Cr,St)=>{var xt=ps(),Sa={},Er=a(xt,!0);t(xt),u(()=>{Sa!==(Sa=e(St))&&(xt.value=(xt.__value=e(St))==null?"":e(St)),s(Er,e(St))}),d(Cr,xt)}),t(W),u(()=>{Ge(W,"id",`param-${w()}`),Pt!==(Pt=e(Y)[w()]||"")&&(W.value=(W.__value=e(Y)[w()]||"")==null?"":e(Y)[w()]||"",da(W,e(Y)[w()]||""))}),d(xe,W)},je=xe=>{var W=_s();ht(W),W.__change=[ms,At,w],u(()=>{Ge(W,"id",`param-${w()}`),Ka(W,e(Y)[w()]||"")}),d(xe,W)};m(Ve,xe=>{y().enum?xe(He):xe(je,!1)},_e)}};m(ne,Ve=>{y().type==="boolean"?Ve(_t):Ve(la,!1)},me)}};m(Me,ne=>{y().type==="integer"||y().type==="number"?ne(Oe):ne(st,!1)})}t(O),u(()=>{Ge(fe,"for",`param-${w()}`),s(at,`${w()??""} `),s(rt,y().description||"")}),d(M,O)}),d(L,U)},ke=L=>{var U=bs();d(L,U)};m(ie,L=>{var U;(U=e(qe).find(Fe=>Fe.name===e(he)))!=null&&U.parameters?L(Ne):L(ke,!1)})}t(b),u(L=>s(S,L),[()=>e(l)?o()("knowledgeBases.pluginParameters"):"Plugin Parameters"]),d(se,b)};m(mt,se=>{e(he)&&se(tt)})}u(se=>{s(Ce,se),Te!==(Te=e(he))&&(Ee.value=(Ee.__value=e(he))==null?"":e(he),da(Ee,e(he)))},[()=>e(l)?o()("knowledgeBases.ingestionPlugin"):"Ingestion Plugin"]),d(q,ye)};m(A,q=>{e(qe).length===0?q(G):q(pe,!1)},I)}};m(P,A=>{e(yt)?A(ge):A(J,!1)},D)}};m(F,P=>{e(Lt)?P(re):P(te,!1)})}t(f),d(c,f)};m(Ba,c=>{e(wt)&&c(dr)})}var Yt=r(Ba,2),Zt=a(Yt);Zt.__change=[Jr,Ke,lt],Or(Zt,c=>v(lt,c),()=>e(lt));var Nt=r(Zt,2);Nt.__click=[Gr,Ke,Kt,Dt,H,wt,he,be,Y,Ze,l,o];var vr=a(Nt);{var cr=c=>{var f=ks(),F=r(a(f));t(f),u(re=>s(F,` ${re??""}`),[()=>e(l)?o()("knowledgeBases.uploading"):"Uploading..."]),d(c,f)},ur=c=>{var f=Je();u(F=>s(f,F),[()=>e(l)?o()("knowledgeBases.upload"):"Upload"]),d(c,f)};m(vr,c=>{e(Kt)?c(cr):c(ur,!1)})}t(Nt),t(Yt);var Aa=r(Yt,2);{var gr=c=>{var f=Bs(),F=a(f);{var re=P=>{var D=Je();u(ge=>s(D,ge),[()=>e(l)?o()("knowledgeBases.fileSelected",{values:{count:e(Ke).length}}):`${e(Ke).length} file selected`]),d(P,D)},te=P=>{var D=Je();u(ge=>s(D,ge),[()=>e(l)?o()("knowledgeBases.filesSelected",{values:{count:e(Ke).length}}):`${e(Ke).length} files selected`]),d(P,D)};m(F,P=>{e(Ke).length===1?P(re):P(te,!1)})}t(f),d(c,f)};m(Aa,c=>{e(Ke).length>0&&c(gr)})}var pr=r(Aa,2);{var fr=c=>{var f=As(),F=a(f,!0);t(f),u(()=>s(F,e(Dt))),d(c,f)};m(pr,c=>{e(Dt)&&c(fr)})}t(Gt);var Ca=r(Gt,2);{var mr=(c,f)=>{{var F=te=>{var P=Es(),D=r(a(P),2),ge=a(D,!0);t(D);var J=r(D,2),A=a(J,!0);t(J);var I=r(J,2);I.__click=[Cs,Ze];var G=a(I,!0);t(I),t(P),u((pe,q)=>{s(ge,pe),s(A,e(Ie)),s(G,q)},[()=>e(l)?o()("knowledgeBases.errorLoadingFiles"):"Error loading files",()=>e(l)?o()("knowledgeBases.tryAgain"):"Try again"]),d(te,P)},re=(te,P)=>{{var D=J=>{var A=Ss(),I=a(A),G=a(I),pe=a(G),q=a(pe),ye=a(q,!0);t(q);var le=r(q),ze=a(le,!0);t(le);var Ce=r(le),Ee=a(Ce,!0);t(Ce);var Te=r(Ce),mt=a(Te,!0);t(Te),t(pe),t(G);var tt=r(G);ot(tt,21,()=>e(g).files,se=>se.id,(se,b)=>{var h=Ps(),S=a(h),ie=a(S);{var Ne=y=>{var O=Ns(),fe=a(O,!0);t(O),u(()=>{Ge(O,"href",e(b).file_url),s(fe,e(b).filename)}),d(y,O)},ke=y=>{var O=Je();u(()=>s(O,e(b).filename)),d(y,O)};m(ie,y=>{e(b).file_url?y(Ne):y(ke,!1)})}t(S);var L=r(S);L.textContent="Document";var U=r(L),Fe=a(U,!0);t(U);var M=r(U),$=a(M);$.__click=[Fs,Ua,b];var w=a($,!0);t($),t(M),t(h),u((y,O)=>{s(Fe,y),s(w,O)},[()=>Ta(e(b).size),()=>e(l)?o()("knowledgeBases.delete"):"Delete"]),d(se,h)}),t(tt),t(I),t(A),u((se,b,h,S)=>{s(ye,se),s(ze,b),s(Ee,h),s(mt,S)},[()=>e(l)?o()("knowledgeBases.fileName"):"File Name",()=>e(l)?o()("knowledgeBases.fileType"):"Type",()=>e(l)?o()("knowledgeBases.fileSize"):"Size",()=>e(l)?o()("knowledgeBases.actions"):"Actions"]),d(J,A)},ge=J=>{var A=zs(),I=r(a(A),2),G=a(I,!0);t(I);var pe=r(I,2),q=a(pe,!0);t(pe),t(A),u((ye,le)=>{s(G,ye),s(q,le)},[()=>e(l)?o()("knowledgeBases.noFiles"):"No files in this knowledge base",()=>e(l)?o()("knowledgeBases.getStartedUploading"):"Get started by uploading a file."]),d(J,A)};m(te,J=>{var A;(A=e(g))!=null&&A.files&&e(g).files.length>0?J(D):J(ge,!1)},P)}};m(c,te=>{e(Ie)?te(F):te(re,!1)},f)}};m(Ca,c=>{c(mr,!1)})}var Ea=r(Ca,2),ea=a(Ea),_r=a(ea,!0);t(ea);var Na=r(ea,2),ta=a(Na),xr=a(ta,!0);t(ta);var Fa=r(ta,2),ft=a(Fa);za(ft);var aa=r(ft,2),ra=a(aa),br=a(ra,!0);t(ra);var sa=r(ra,2);ht(sa),t(aa);var oa=r(aa,2),Ft=a(oa);Ft.__click=[Ks,Ra];var hr=a(Ft);{var wr=c=>{var f=Ds(),F=r(Pe(f));u(re=>s(F,` ${re??""}`),[()=>e(l)?o()("knowledgeBases.querying"):"Querying..."]),d(c,f)},yr=c=>{var f=Je();u(F=>s(f,F),[()=>e(l)?o()("knowledgeBases.submitQuery"):"Submit Query"]),d(c,f)};m(hr,c=>{e(Ye)?c(wr):c(yr,!1)})}t(Ft),t(oa);var Pa=r(oa,2);{var kr=c=>{var f=Ls(),F=a(f),re=r(a(F));t(F),t(f),u(()=>s(re,` ${e(Bt)??""}`)),d(c,f)};m(Pa,c=>{e(Bt)&&c(kr)})}var Br=r(Pa,2);{var Ar=c=>{var f=Qs(),F=a(f),re=a(F,!0);t(F);var te=r(F,2),P=a(te),D=a(P),ge=a(D,!0);t(D);var J=r(D,2),A=a(J),I=r(a(A));t(A);var G=r(A,2),pe=r(a(G));t(G);var q=r(G,2),ye=r(a(q));t(q);var le=r(q,2);{var ze=b=>{var h=Ms(),S=Pe(h),ie=r(a(S));t(S);var Ne=r(S,2),ke=r(a(Ne));t(Ne),u((L,U)=>{s(ie,` ${L??""}`),s(ke,` ${U??""}`)},[()=>JSON.stringify(e(K).debug_info.response_keys)||"N/A",()=>JSON.stringify(e(K).debug_info.plugin_params)||"N/A"]),d(b,h)};m(le,b=>{e(K).debug_info&&b(ze)})}var Ce=r(le,4),Ee=a(Ce,!0);t(Ce),t(J),t(P),t(te);var Te=r(te,2),mt=a(Te);{var tt=b=>{var h=Rs(),S=a(h);{var ie=ke=>{var L=ia(),U=Pe(L);ot(U,17,()=>e(K).results.documents,bt,(Fe,M)=>{var $=js(),w=a($),y=a(w);t(w);var O=r(w,2),fe=a(O),at=a(fe,!0);t(fe),t(O);var Qe=r(O,2);{var rt=Me=>{var Oe=Os(),st=a(Oe),ne=r(a(st));t(st),t(Oe),u(()=>s(ne,` ${e(M).metadata.source||"Unknown"}`)),d(Me,Oe)};m(Qe,Me=>{e(M).metadata&&Me(rt)})}t($),u((Me,Oe)=>{s(y,`${Me??""}: ${Oe??""}`),s(at,e(M).content||e(M).text||e(M).page_content||"No content available")},[()=>e(l)?o()("knowledgeBases.relevance"):"Relevance",()=>e(M).score?e(M).score.toFixed(2):"N/A"]),d(Fe,$)}),d(ke,L)},Ne=(ke,L)=>{{var U=Fe=>{var M=ia(),$=Pe(M);ot($,17,()=>e(K).results.results,bt,(w,y)=>{var O=Us(),fe=a(O),at=a(fe);t(fe);var Qe=r(fe,2),rt=a(Qe),Me=a(rt,!0);t(rt),t(Qe);var Oe=r(Qe,2);{var st=ne=>{var me=qs(),_t=a(me),la=r(a(_t));t(_t);var Ve=r(_t,2);{var _e=He=>{var je=Is(),xe=a(je),W=a(xe,!0);t(xe),t(je),u(Pt=>{Ge(xe,"href",e(y).metadata.file_url),s(W,Pt)},[()=>e(l)?o()("knowledgeBases.viewSourceFile"):"View Source File"]),d(He,je)};m(Ve,He=>{e(y).metadata.file_url&&He(_e)})}t(me),u(()=>s(la,` ${e(y).metadata.source||e(y).metadata.filename||"Unknown"}`)),d(ne,me)};m(Oe,ne=>{e(y).metadata&&ne(st)})}t(O),u((ne,me)=>{s(at,`${ne??""}: ${me??""}`),s(Me,e(y).data||e(y).content||e(y).text||e(y).page_content||"No content available")},[()=>e(l)?o()("knowledgeBases.relevance"):"Relevance",()=>e(y).similarity?e(y).similarity.toFixed(2):"N/A"]),d(w,O)}),d(Fe,M)};m(ke,Fe=>{var M,$;($=(M=e(K))==null?void 0:M.results)!=null&&$.results&&Fe(U)},L)}};m(S,ke=>{var L,U;(U=(L=e(K))==null?void 0:L.results)!=null&&U.documents?ke(ie):ke(Ne,!1)})}t(h),d(b,h)},se=b=>{var h=Ts(),S=a(h,!0);t(h),u(ie=>s(S,ie),[()=>e(l)?o()("knowledgeBases.noResults"):"No matching documents found in the knowledge base."]),d(b,h)};m(mt,b=>{var h,S,ie,Ne;(S=(h=e(K))==null?void 0:h.results)!=null&&S.documents&&Array.isArray(e(K).results.documents)&&e(K).results.documents.length>0||(Ne=(ie=e(K))==null?void 0:ie.results)!=null&&Ne.results&&Array.isArray(e(K).results.results)&&e(K).results.results.length>0?b(tt):b(se,!1)})}t(Te),t(f),u((b,h,S)=>{s(re,b),s(ge,h),s(I,` ${e(K).query||"N/A"}`),s(pe,` ${e(K).kb_id||"N/A"}`),s(ye,` ${e(K).status||"N/A"}`),s(Ee,S)},[()=>e(l)?o()("knowledgeBases.queryResults"):"Query Results",()=>e(l)?o()("knowledgeBases.debugInfo"):"Debug Information",()=>JSON.stringify(e(K),null,2)]),d(c,f)};m(Br,c=>{e(K)&&c(Ar)})}t(Fa),t(Na),t(Ea),t(ha),u((c,f,F,re,te,P,D,ge,J,A,I,G,pe,q,ye,le)=>{var ze,Ce;s(De,c),s(Ut,f),s(Ct,e(g).name),s(ct,F),s(Rt,e(g).id),s(Ae,re),s(Tt,e(g).owner),s(er,te),s(tr,P),s(ar,D),s(rr,((ze=e(g).metadata)==null?void 0:ze.description)||"No description provided"),s(sr,ge),s(or,((Ce=e(g).metadata)==null?void 0:Ce.access_control)||"private"),s(lr,J),s(ir,A),s(nr,I),Nt.disabled=e(Kt)||e(Ke).length===0,s(_r,G),s(xr,pe),Ge(ft,"placeholder",q),ft.disabled=e(Ye),s(br,ye),sa.disabled=e(Ye),Ft.disabled=le},[()=>e(l)?o()("knowledgeBases.basicInfo"):"Basic Information",()=>e(l)?o()("knowledgeBases.name"):"Name",()=>e(l)?o()("knowledgeBases.id"):"ID",()=>e(l)?o()("knowledgeBases.owner"):"Owner",()=>e(l)?o()("knowledgeBases.createdAt"):"Created At",()=>Qa(e(g).created_at),()=>e(l)?o()("knowledgeBases.description"):"Description",()=>e(l)?o()("knowledgeBases.accessControl"):"Access Control",()=>e(l)?o()("knowledgeBases.files"):"Files",()=>e(l)?o()("knowledgeBases.uploadFiles"):"Upload Files",()=>e(l)?o()("knowledgeBases.advancedOptions"):"Advanced Ingestion Options",()=>e(l)?o()("knowledgeBases.queryInterface"):"Query Interface",()=>e(l)?o()("knowledgeBases.queryDescription"):"Ask questions to your knowledge base to test it.",()=>e(l)?o()("knowledgeBases.queryPlaceholder"):"Enter your question here...",()=>e(l)?o()("knowledgeBases.topK"):"Results to show:",()=>e(Ye)||!e(it).trim()]),Lr(Xt,()=>e(wt),c=>v(wt,c)),zt(ft,()=>e(it),c=>v(it,c)),zt(sa,()=>e(kt),c=>v(kt,c)),d(ee,ae)};m(nt,ee=>{e(Se)?ee(It):ee(qt,!1)})}d(ve,Q)};m(k,ve=>{e(g)&&ve(Be)},we)}};m(i,k=>{e(X)&&!e(g)?k(_):k(z,!1)},n)}};m(Xa,i=>{e(de)&&!e(g)?i(Ya):i(Za,!1)})}t(pa),t(Mt),d(j,Mt),Ma(),oe()}Nr(["click","change"]);var $s=p('<div class="container mx-auto px-4 py-8"><!></div>');function uo(j,x){Da(x,!0);const[E,oe]=Oa(),o=()=>va(Dr,"$page",E),be=()=>va(Ia,"$_",E),Se=o().params.id;let l=C(!1),Ie=C(!1);La(()=>ja.subscribe(H=>{H&&v(Ie,!0)}));var g=$s();Sr(X=>{u(H=>Kr.title=H,[()=>e(Ie)?be()("knowledgeBases.detailPageTitle"):"Knowledge Base Details"])});var de=a(g);Gs(de,{kbId:Se,get isEditing(){return e(l)},set isEditing(X){v(l,B(X))}}),t(g),d(j,g),Ma(),oe()}export{uo as component};
