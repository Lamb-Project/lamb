import{t as x,s as i,a as p,b as zt,e as Bt}from"../chunks/C82hPXC8.js";import{p as ft,c as t,r as a,s as e,t as j,a as yt,f as ut,aq as Ft,o as Lt,i as D,a6 as X,j as I}from"../chunks/DZNCS3vC.js";import{i as w}from"../chunks/fI70I6vP.js";import{p as _t}from"../chunks/B_zbZ6nJ.js";import{s as qt,a as Ht}from"../chunks/CVH_3kCa.js";import{p as Jt}from"../chunks/DbCUo_rN.js";import{s as Kt,A as Vt}from"../chunks/D5v_xaba.js";import{s as Qt}from"../chunks/D8EjMQFO.js";import{p as Ut}from"../chunks/LPlWZjWK.js";function Wt({params:G}){return{id:G.id}}const ga=Object.freeze(Object.defineProperty({__proto__:null,load:Wt},Symbol.toStringTag,{value:"Module"}));var Xt=x('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800">No RAG</span>'),Yt=x('<div><p class="text-sm font-medium text-gray-500">File Path</p> <p class="mt-1 text-sm text-gray-900 font-mono text-xs break-all"><a target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 hover:underline"> </a></p></div> <div class="md:col-span-2"><p class="mt-1 text-sm text-gray-500 italic">This assistant uses a single file for Retrieval-Augmented Generation.</p></div>',1),Zt=x('<div><p class="text-sm font-medium text-gray-500">RAG Top K</p> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><p class="text-sm font-medium text-gray-500">RAG Collections</p> <p class="mt-1 text-sm text-gray-900"> </p></div>',1),$t=x('<div class="md:col-span-2"><p class="mt-1 text-sm text-gray-500 italic">This assistant does not use Retrieval-Augmented Generation.</p></div>'),ta=x('<div class="bg-white rounded-lg shadow-xl max-w-4xl w-full mx-auto my-8 overflow-hidden"><div class="px-6 py-4 border-b border-gray-200"><div class="flex justify-between items-center mb-2"><h2 class="text-xl font-semibold text-gray-900"> </h2> <span> </span></div> <p class="text-sm text-gray-600"> </p></div> <div class="px-6 py-4 divide-y divide-gray-200"><div class="py-4"><h3 class="text-lg font-medium text-gray-900 mb-3">Prompt Configuration</h3> <div class="mb-4"><p class="text-sm font-medium text-gray-500 mb-2">System Prompt</p> <div class="bg-gray-50 rounded-md p-3 text-sm font-mono whitespace-pre-wrap"> </div></div> <div class="mb-4"><p class="text-sm font-medium text-gray-500 mb-2">Prompt Template</p> <div class="bg-gray-50 rounded-md p-3 text-sm font-mono whitespace-pre-wrap"> </div></div></div> <div class="py-4"><h3 class="text-lg font-medium text-gray-900 mb-3">Basic Information</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><p class="text-sm font-medium text-gray-500">ID</p> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><p class="text-sm font-medium text-gray-500">Name</p> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><p class="text-sm font-medium text-gray-500">Owner</p> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><p class="text-sm font-medium text-gray-500">Published At</p> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><p class="text-sm font-medium text-gray-500">Group ID</p> <p class="mt-1 text-sm text-gray-900 font-mono text-xs break-all"> </p></div> <div><p class="text-sm font-medium text-gray-500">Group Name</p> <p class="mt-1 text-sm text-gray-900"> </p></div></div></div> <div class="py-4"><h3 class="text-lg font-medium text-gray-900 mb-3">Technical Configuration</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><p class="text-sm font-medium text-gray-500">Prompt Processor</p> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><p class="text-sm font-medium text-gray-500">Connector</p> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><p class="text-sm font-medium text-gray-500">Language Model</p> <p class="mt-1 text-sm text-gray-900"> </p></div> <div><p class="text-sm font-medium text-gray-500">RAG Processor</p> <p class="mt-1 text-sm text-gray-900"> </p></div></div></div> <div class="py-4"><h3 class="text-lg font-medium text-gray-900 mb-3">RAG Configuration</h3> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><p class="text-sm font-medium text-gray-500">RAG Processor</p> <p class="mt-1 text-sm text-gray-900"><!></p></div> <!> <!></div></div></div></div>');function aa(G,r){ft(r,!0),Ut(r,"isModal",3,!1);let v={};try{r.assistant.api_callback&&(v=JSON.parse(r.assistant.api_callback))}catch(s){console.error("Error parsing API callback:",s)}const M=v.rag_processor==="single_file_rag"&&v.file_path,P=v.rag_processor==="no_rag";function R(s){return s?new Date(s).toLocaleDateString():"Not published"}var f=ta(),g=t(f),A=t(g),y=t(A),E=t(y);a(y);var C=e(y,2),O=t(C,!0);a(C),a(A);var o=e(A,2),n=t(o,!0);a(o),a(g);var N=e(g,2),T=t(N),m=e(t(T),2),u=e(t(m),2),h=t(u,!0);a(u),a(m);var k=e(m,2),d=e(t(k),2),z=t(d,!0);a(d),a(k),a(T);var B=e(T,2),Y=e(t(B),2),F=t(Y),Z=e(t(F),2),ht=t(Z,!0);a(Z),a(F);var L=e(F,2),$=e(t(L),2),bt=t($,!0);a($),a(L);var q=e(L,2),tt=e(t(q),2),wt=t(tt,!0);a(tt),a(q);var H=e(q,2),at=e(t(H),2),At=t(at,!0);a(at),a(H);var J=e(H,2),et=e(t(J),2),Nt=t(et,!0);a(et),a(J);var st=e(J,2),rt=e(t(st),2),kt=t(rt,!0);a(rt),a(st),a(Y),a(B);var K=e(B,2),it=e(t(K),2),V=t(it),ot=e(t(V),2),Gt=t(ot,!0);a(ot),a(V);var Q=e(V,2),vt=e(t(Q),2),Pt=t(vt,!0);a(vt),a(Q);var U=e(Q,2),lt=e(t(U),2),Rt=t(lt,!0);a(lt),a(U);var dt=e(U,2),nt=e(t(dt),2),Ct=t(nt,!0);a(nt),a(dt),a(it),a(K);var mt=e(K,2),pt=e(t(mt),2),W=t(pt),ct=e(t(W),2),Tt=t(ct);{var Dt=s=>{var l=Xt();p(s,l)},It=s=>{var l=zt();j(()=>i(l,v.rag_processor||"N/A")),p(s,l)};w(Tt,s=>{P?s(Dt):s(It,!1)})}a(ct),a(W);var xt=e(W,2);{var jt=s=>{var l=Yt(),_=ut(l),c=e(t(_),2),b=t(c),S=t(b,!0);a(b),a(c),a(_),Ft(2),j(()=>{Kt(b,"href",`/static/public/${v.file_path??""}`),i(S,v.file_path)}),p(s,l)};w(xt,s=>{M&&s(jt)})}var Mt=e(xt,2);{var St=s=>{var l=Zt(),_=ut(l),c=e(t(_),2),b=t(c,!0);a(c),a(_);var S=e(_,2),gt=e(t(S),2),Ot=t(gt,!0);a(gt),a(S),j(()=>{i(b,r.assistant.RAG_Top_k||"N/A"),i(Ot,r.assistant.RAG_collections||"None")}),p(s,l)},Et=(s,l)=>{{var _=c=>{var b=$t();p(c,b)};w(s,c=>{P&&c(_)},l)}};w(Mt,s=>{!P&&!M?s(St):s(Et,!1)})}a(pt),a(mt),a(N),a(f),j(s=>{i(E,`Details for ${r.assistant.name??""}`),Qt(C,1,`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(r.assistant.published?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800")??""}`),i(O,r.assistant.published?"Published":"Not Published"),i(n,r.assistant.description||"No description provided"),i(h,r.assistant.system_prompt||"No system prompt provided"),i(z,r.assistant.prompt_template||"No prompt template provided"),i(ht,r.assistant.id),i(bt,r.assistant.name),i(wt,r.assistant.owner),i(At,s),i(Nt,r.assistant.group_id),i(kt,r.assistant.group_name),i(Gt,v.prompt_processor||"N/A"),i(Pt,v.connector||"N/A"),i(Rt,v.llm||"N/A"),i(Ct,v.rag_processor||"No RAG")},[()=>R(r.assistant.published_at)]),p(G,f),yt()}var ea=x('<div class="flex justify-center items-center py-20"><svg class="animate-spin h-8 w-8 text-indigo-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div>'),sa=x('<div class="text-center py-20"><p class="text-red-600 mb-4"> </p> <button class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">Retry</button></div>'),ra=x('<div class="text-center py-20"><p class="text-gray-600">Assistant not found</p></div>'),ia=x('<div class="min-h-screen bg-gray-50"><!></div>');function ua(G,r){ft(r,!0);const[v,M]=qt(),P=()=>Ht(Jt,"$page",v);let R=X(null),f=X(!0),g=X(null);async function A(){try{I(f,!0),I(g,null);const o=localStorage.getItem("userToken");if(!o)throw new Error("Not authenticated");const n=await fetch(`${Vt.lambServer}/creator/assistant/get_assistant/${P().params.id}`,{headers:{Authorization:`Bearer ${o}`}});if(!n.ok)throw new Error(`Error: ${n.status} - ${n.statusText}`);const N=await n.json();I(R,_t(N))}catch(o){console.error("Error fetching assistant:",o),I(g,_t(o.message))}finally{I(f,!1)}}Lt(()=>{A()});var y=ia(),E=t(y);{var C=o=>{var n=ea();p(o,n)},O=(o,n)=>{{var N=m=>{var u=sa(),h=t(u),k=t(h,!0);a(h);var d=e(h,2);a(u),j(()=>i(k,D(g))),Bt("click",d,A),p(m,u)},T=(m,u)=>{{var h=d=>{aa(d,{get assistant(){return D(R)},isModal:!1})},k=d=>{var z=ra();p(d,z)};w(m,d=>{D(R)?d(h):d(k,!1)},u)}};w(o,m=>{D(g)?m(N):m(T,!1)},n)}};w(E,o=>{D(f)?o(C):o(O,!1)})}a(y),p(G,y),yt(),M()}export{ua as component,ga as universal};
