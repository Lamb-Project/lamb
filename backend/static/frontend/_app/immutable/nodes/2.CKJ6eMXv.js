import{t as y,s as l,e as ae,a as x,d as Ae,c as Se}from"../chunks/C82hPXC8.js";import{p as de,aD as xe,c as e,r as t,s as n,i as a,an as w,t as S,e as R,j as s,a as ce,aq as ue,o as Ie,a6 as le,f as ge}from"../chunks/DZNCS3vC.js";import{i as F}from"../chunks/fI70I6vP.js";import{a as re,s as ve}from"../chunks/CVH_3kCa.js";import{i as _e}from"../chunks/C9TgNfkd.js";import{r as P}from"../chunks/D5v_xaba.js";import{s as he}from"../chunks/D8EjMQFO.js";import{b as Q}from"../chunks/ei6fuu5i.js";import{p as we}from"../chunks/Bfc47y5P.js";import{u as ye}from"../chunks/CJASC4tQ.js";import{l as Me,s as je}from"../chunks/Dzr2J0Wh.js";import{$ as pe,a as De}from"../chunks/weotW1oH.js";var Ee=y("<div> </div>"),Te=y("<span> </span>"),Be=y("<span> </span>"),Ce=y('<div class="ui-form-container"><h2 class="text-2xl font-bold mb-6"> </h2> <form class="space-y-4"><div class="space-y-2"><label for="email" class="block text-sm font-medium"> </label> <input type="email" id="email" required class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#2271b3] focus:border-[#2271b3]"></div> <div class="space-y-2"><label for="password" class="block text-sm font-medium"> </label> <input type="password" id="password" required class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#2271b3] focus:border-[#2271b3]"></div> <!> <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#2271b3] hover:bg-[#195a91] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2271b3] disabled:opacity-50"><!></button> <div class="text-center mt-4"><p class="text-sm text-gray-600"> <button type="button" class="text-[#2271b3] hover:text-[#195a91] font-medium"> </button></p></div></form></div>');function Ke(G,K){de(K,!1);const[E,X]=ve(),r=()=>re(pe,"$_",E),T=xe();let f=w(""),_=w(""),m=w(""),L=w(!1),h=w(!1);async function I(){s(h,!0),s(m,"");const i=await Me(a(f),a(_));i.success?(s(L,!0),s(m,r()("auth.loginSuccess")),ye.login(i.data),setTimeout(()=>{window.location.href="/"},1e3)):(s(L,!1),s(m,i.error||"Error logging in")),s(h,!1)}function B(){T("show-signup")}_e();var Y=Ce(),U=e(Y),b=e(U,!0);t(U);var c=n(U,2),q=e(c),$=e(q),M=e($,!0);t($);var v=n($,2);P(v),t(q);var u=n(q,2),g=e(u),j=e(g,!0);t(g);var k=n(g,2);P(k),t(u);var C=n(u,2);{var H=i=>{var d=Ee(),D=e(d,!0);t(d),S(()=>{he(d,1,`p-3 rounded-md ${a(L)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`),l(D,a(m))}),x(i,d)};F(C,i=>{a(m)&&i(H)})}var A=n(C,2),V=e(A);{var oe=i=>{var d=Te(),D=e(d,!0);t(d),S(W=>l(D,W),[()=>r()("common.loading")],R),x(i,d)},ee=i=>{var d=Be(),D=e(d,!0);t(d),S(W=>l(D,W),[()=>r()("auth.login")],R),x(i,d)};F(V,i=>{a(h)?i(oe):i(ee,!1)})}t(A);var J=n(A,2),N=e(J),te=e(N),O=n(te),se=e(O,!0);t(O),t(N),t(J),t(c),t(Y),S((i,d,D,W,ie)=>{l(b,i),l(M,d),l(j,D),A.disabled=a(h),l(te,`${W??""} `),l(se,ie)},[()=>r()("auth.login"),()=>r()("auth.email"),()=>r()("auth.password"),()=>r()("auth.noAccount"),()=>r()("auth.signup")],R),Q(v,()=>a(f),i=>s(f,i)),Q(k,()=>a(_),i=>s(_,i)),ae("click",O,B),ae("submit",c,we(I)),x(G,Y),ce(),X()}var Ye=y("<div> </div>"),Ue=y("<span> </span>"),Ve=y("<span> </span>"),We=y('<div class="ui-form-container"><h2 class="text-2xl font-bold mb-6"> </h2> <form class="space-y-4"><div class="space-y-2"><label for="name" class="block text-sm font-medium"> </label> <input type="text" id="name" required class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#2271b3] focus:border-[#2271b3]"></div> <div class="space-y-2"><label for="signup-email" class="block text-sm font-medium"> </label> <input type="email" id="signup-email" required class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#2271b3] focus:border-[#2271b3]"></div> <div class="space-y-2"><label for="signup-password" class="block text-sm font-medium"> </label> <input type="password" id="signup-password" required class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#2271b3] focus:border-[#2271b3]"></div> <div class="space-y-2"><label for="secret" class="block text-sm font-medium"> </label> <input type="text" id="secret" required class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-[#2271b3] focus:border-[#2271b3]"> <p class="text-xs text-gray-500 mt-1">You need a secret key to register</p></div> <!> <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#2271b3] hover:bg-[#195a91] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2271b3] disabled:opacity-50"><!></button> <div class="text-center mt-4"><p class="text-sm text-gray-600"> <button type="button" class="text-[#2271b3] hover:text-[#195a91] font-medium"> </button></p></div></form></div>');function ze(G,K){de(K,!1);const[E,X]=ve(),r=()=>re(pe,"$_",E),T=xe();let f=w(""),_=w(""),m=w(""),L=w(""),h=w(""),I=w(!1),B=w(!1);async function Y(){s(B,!0),s(h,"");const o=await je(a(f),a(_),a(m),a(L));o.success?(s(I,!0),s(h,r()("auth.signupSuccess")),s(f,""),s(_,""),s(m,""),s(L,""),setTimeout(()=>{T("show-login")},2e3)):(s(I,!1),s(h,o.error||"Error creating account")),s(B,!1)}function U(){T("show-login")}_e();var b=We(),c=e(b),q=e(c,!0);t(c);var $=n(c,2),M=e($),v=e(M),u=e(v,!0);t(v);var g=n(v,2);P(g),t(M);var j=n(M,2),k=e(j),C=e(k,!0);t(k);var H=n(k,2);P(H),t(j);var A=n(j,2),V=e(A),oe=e(V,!0);t(V);var ee=n(V,2);P(ee),t(A);var J=n(A,2),N=e(J),te=e(N,!0);t(N);var O=n(N,2);P(O),ue(2),t(J);var se=n(J,2);{var i=o=>{var p=Ye(),z=e(p,!0);t(p),S(()=>{he(p,1,`p-3 rounded-md ${a(I)?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`),l(z,a(h))}),x(o,p)};F(se,o=>{a(h)&&o(i)})}var d=n(se,2),D=e(d);{var W=o=>{var p=Ue(),z=e(p,!0);t(p),S(Z=>l(z,Z),[()=>r()("common.loading")],R),x(o,p)},ie=o=>{var p=Ve(),z=e(p,!0);t(p),S(Z=>l(z,Z),[()=>r()("auth.signup")],R),x(o,p)};F(D,o=>{a(B)?o(W):o(ie,!1)})}t(d);var fe=n(d,2),me=e(fe),be=e(me),ne=n(be),$e=e(ne,!0);t(ne),t(me),t(fe),t($),t(b),S((o,p,z,Z,ke,Le,qe)=>{l(q,o),l(u,p),l(C,z),l(oe,Z),l(te,ke),d.disabled=a(B),l(be,`${Le??""} `),l($e,qe)},[()=>r()("auth.signup"),()=>r()("auth.name"),()=>r()("auth.email"),()=>r()("auth.password"),()=>r()("auth.secretKey"),()=>r()("auth.alreadyAccount"),()=>r()("auth.login")],R),Q(g,()=>a(f),o=>s(f,o)),Q(H,()=>a(_),o=>s(_,o)),Q(ee,()=>a(m),o=>s(m,o)),Q(O,()=>a(L),o=>s(L,o)),ae("click",ne,U),ae("submit",$,we(Y)),x(G,b),ce(),X()}function Fe(G,K,E){K().isLoggedIn&&s(E,!0)}var Ge=y('<div class="bg-white shadow rounded-lg p-6"><h2 class="text-2xl font-bold mb-4"> </h2> <p class="text-gray-600">This is where the assistants UI will be implemented.</p></div>'),He=y('<div class="bg-white shadow rounded-lg p-6 text-center"><h2 class="text-2xl font-bold mb-4"> </h2> <p class="mb-4">You have successfully logged in.</p> <div class="mt-6"><button class="px-4 py-2 bg-[#2271b3] text-white rounded hover:bg-[#195a91] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2271b3]"> </button></div></div>'),Je=y('<div class="max-w-md mx-auto bg-white shadow-md rounded-lg overflow-hidden"><!></div> <div class="text-center mt-8"><div class="mx-auto bg-[#e9ecef] p-4 rounded-lg" style="max-width: 400px;"><h2 class="text-3xl font-bold text-[#2271b3]">LAMB</h2> <p class="text-[#195a91]">Learning Assistants Manager and Builder</p></div></div>',1),Ne=y('<div class="container mx-auto px-4 py-8"><!></div>');function it(G,K){de(K,!0);const[E,X]=ve(),r=()=>re(ye,"$user",E),T=()=>re(pe,"$_",E);let f=le(!1),_=le("login"),m=le(!1);function L(){s(_,"login")}function h(){s(_,"signup")}Ie(()=>De.subscribe(c=>{c&&s(f,!0)}));var I=Ne(),B=e(I);{var Y=b=>{var c=Se(),q=ge(c);{var $=v=>{var u=Ge(),g=e(u),j=e(g,!0);t(g),ue(2),t(u),S(k=>l(j,k),[()=>a(f)?T()("assistants.title"):"Learning Assistants"]),x(v,u)},M=v=>{var u=He(),g=e(u),j=e(g);t(g);var k=n(g,4),C=e(k);C.__click=[Fe,r,m];var H=e(C,!0);t(C),t(k),t(u),S((A,V)=>{l(j,`${A??""}, ${r().name??""}!`),l(H,V)},[()=>a(f)?T()("app.welcome"):"Welcome to the Creator Interface",()=>a(f)?T()("assistants.view"):"View Learning Assistants"]),x(v,u)};F(q,v=>{a(m)?v($):v(M,!1)})}x(b,c)},U=b=>{var c=Je(),q=ge(c),$=e(q);{var M=u=>{Ke(u,{$$events:{"show-signup":h}})},v=u=>{ze(u,{$$events:{"show-login":L}})};F($,u=>{a(_)==="login"?u(M):u(v,!1)})}t(q),ue(2),x(b,c)};F(B,b=>{r().isLoggedIn?b(Y):b(U,!1)})}t(I),x(G,I),ce(),X()}Ae(["click"]);export{it as component};
