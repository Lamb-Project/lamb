import{t as K,a as M,s as o,e as V,h as tt}from"../chunks/C82hPXC8.js";import{p as Ke,a6 as N,o as Ce,t as b,a as Le,s as r,c as a,i as e,j as v,r as t,f as at,a7 as st}from"../chunks/DZNCS3vC.js";import{s as Ae,a as Ee}from"../chunks/CVH_3kCa.js";import{i as de}from"../chunks/fI70I6vP.js";import{e as $e,i as rt}from"../chunks/D6J79d0_.js";import{s as ot}from"../chunks/D5v_xaba.js";import{s as ve}from"../chunks/D8EjMQFO.js";import{p as z}from"../chunks/B_zbZ6nJ.js";import{$ as ze,a as Ne}from"../chunks/weotW1oH.js";import{g as Me}from"../chunks/JSp2UL00.js";import{a as nt}from"../chunks/BhMXpYJc.js";var it=K('<div class="flex justify-center items-center py-10"><svg class="animate-spin h-8 w-8 text-[#2271b3]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span class="ml-3 text-gray-600"> </span></div>'),lt=K('<div class="bg-red-50 p-4 rounded-md"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800"> </h3> <div class="mt-2 text-sm text-red-700"> </div> <div class="mt-4"><button class="inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-[#195a91] bg-[#e9ecef] hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2271b3]"> </button></div></div></div></div>'),dt=K('<div class="text-center py-10"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900"> </h3> <p class="mt-1 text-sm text-gray-500"> </p> <div class="mt-6"><button class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-[#2271b3] hover:bg-[#195a91] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2271b3]"><svg class="-ml-1 mr-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path></svg> </button></div></div>'),vt=K('<tr><td class="px-6 py-4"><div class="text-sm font-medium text-gray-900"><a class="hover:text-[#2271b3] hover:underline"> </a></div> <div class="text-sm text-gray-500 mt-1"><span class="block"> </span> <span class="block"> </span> <span class="block"> </span></div></td><td class="px-6 py-4"><div class="text-sm text-gray-900"><span class="font-medium">Description:</span> </div> <div class="text-sm text-gray-500 mt-1"><span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800"> </span></div></td><td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium"><div class="flex space-x-2 justify-end"><button class="px-3 py-1 bg-[#2271b3] text-white rounded hover:bg-[#195a91] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2271b3] text-xs"> </button></div></td></tr>'),ct=K("<button></button>"),gt=K('<div class="overflow-x-auto"><table class="min-w-full divide-y divide-gray-200"><thead class="bg-gray-100"><tr><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> </th><th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"> </th><th scope="col" class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"> </th></tr></thead><tbody class="bg-white divide-y divide-gray-200"></tbody></table></div> <div class="flex flex-col items-center mt-6 px-4 py-3 bg-gray-50 border-t border-gray-200 sm:px-6"><div class="text-sm text-gray-700 mb-3"> </div> <div class="flex justify-between items-center space-x-4"><button> </button> <div class="flex space-x-2"></div> <button> </button></div></div>',1),ut=K('<div class="bg-white shadow-md rounded-lg overflow-hidden border border-gray-200"><div class="p-5 border-b border-gray-200 flex justify-between items-center"><h2 class="text-xl font-semibold text-gray-800"> </h2> <a href="/knowledgebases/new" class="px-4 py-2 bg-[#2271b3] text-white rounded-md hover:bg-[#195a91] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#2271b3] flex items-center"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd"></path></svg> </a></div> <div class="p-5"><!></div></div>');function xt(Y,J){Ke(J,!0);const[R,q]=Ae(),l=()=>Ee(ze,"$_",R);let i=N(!1),d=N(z([])),C=N(!0),_=N(null);const h=6;let n=N(1),c=N(1);Ce(()=>{const s=Ne.subscribe(g=>{g&&v(i,!0)});return ce(),s});async function ce(){v(C,!0),v(_,null);try{v(d,z(await nt())),console.log("Loaded knowledge bases:",JSON.stringify(e(d),null,2)),v(c,z(Math.ceil(e(d).length/h))),e(n)<1&&v(n,1),e(n)>e(c)&&v(n,z(e(c)||1))}catch(s){console.error("Error loading knowledge bases:",s),s instanceof Error&&s.message==="Knowledge Base server offline"?v(_,"Knowledge Base server is offline or not configured. Please check server configuration and connectivity."):s instanceof Error?v(_,z(s.message)):v(_,"An unknown error occurred"),v(d,z([]))}finally{v(C,!1)}}function je(s){Me(`/knowledgebases/${s}`)}function Q(s){s>=1&&s<=e(c)&&v(n,z(s))}function Pe(){const s=(e(n)-1)*h,g=Math.min(s+h,e(d).length);return e(d).slice(s,g)}function De(){Me("/knowledgebases/new")}function Ve(s){return s?new Date(s).toLocaleString():"N/A"}var U=ut(),W=a(U),X=a(W),He=a(X,!0);t(X);var ge=r(X,2),Ie=r(a(ge));t(ge),t(W);var ue=r(W,2),Se=a(ue);{var Te=s=>{var g=it(),T=r(a(g),2),Z=a(T,!0);t(T),t(g),b(y=>o(Z,y),[()=>e(i)?l()("knowledgeBases.loading"):"Loading knowledge bases..."]),M(s,g)},Fe=(s,g)=>{{var T=y=>{var H=lt(),F=a(H),G=r(a(F),2),p=a(G),k=a(p,!0);t(p);var u=r(p,2),j=a(u,!0);t(u);var f=r(u,2),B=a(f),$=a(B,!0);t(B),t(f),t(G),t(F),t(H),b((L,A)=>{o(k,L),o(j,e(_)),o($,A)},[()=>e(i)?l()("knowledgeBases.errorLoading"):"Error loading knowledge bases",()=>e(i)?l()("knowledgeBases.tryAgain"):"Try Again"]),V("click",B,()=>ce()),M(y,H)},Z=(y,H)=>{{var F=p=>{var k=dt(),u=r(a(k),2),j=a(u,!0);t(u);var f=r(u,2),B=a(f,!0);t(f);var $=r(f,2),L=a($),A=r(a(L));t(L),t($),t(k),b((ee,O,te)=>{o(j,ee),o(B,O),o(A,` ${te??""}`)},[()=>e(i)?l()("knowledgeBases.noKnowledgeBases"):"You don't have any knowledge bases yet",()=>e(i)?l()("knowledgeBases.getStarted"):"Get started by creating a new knowledge base",()=>e(i)?l()("knowledgeBases.createFirst"):"Create Your First Knowledge Base"]),V("click",L,De),M(p,k)},G=p=>{var k=gt(),u=at(k),j=a(u),f=a(j),B=a(f),$=a(B),L=a($,!0);t($);var A=r($),ee=a(A,!0);t(A);var O=r(A),te=a(O,!0);t(O),t(B),t(f);var xe=r(f);$e(xe,21,Pe,E=>E.id,(E,x)=>{var w=vt(),D=a(w),m=a(D),S=a(m),Je=a(S,!0);t(S),t(m);var me=r(m,2),re=a(me),Re=a(re);t(re);var oe=r(re,2),qe=a(oe);t(oe);var he=r(oe,2),Qe=a(he);t(he),t(me),t(D);var ne=r(D),ie=a(ne),Ue=r(a(ie));t(ie);var we=r(ie,2),be=a(we),We=a(be,!0);t(be),t(we),t(ne);var _e=r(ne),ye=a(_e),le=a(ye),Xe=a(le,!0);t(le),t(ye),t(_e),t(w),b((Ze,et)=>{var ke,Be;ot(S,"href",`/knowledgebases/${e(x).id??""}`),o(Je,e(x).name),o(Re,`ID: ${e(x).id??""}`),o(qe,`Created: ${Ze??""}`),o(Qe,`Owner: ${e(x).owner??""}`),o(Ue,` ${((ke=e(x).metadata)==null?void 0:ke.description)||"No description available"}`),o(We,((Be=e(x).metadata)==null?void 0:Be.access_control)||"private"),o(Xe,et)},[()=>Ve(e(x).created_at),()=>e(i)?l()("knowledgeBases.manage"):"Manage"]),V("click",le,()=>je(e(x).id)),M(E,w)}),t(xe),t(j),t(u);var pe=r(u,2),ae=a(pe),Ge=a(ae,!0);t(ae);var fe=r(ae,2),P=a(fe),Oe=a(P,!0);t(P);var se=r(P,2);$e(se,21,()=>Array(e(c)),rt,(E,x,w,D)=>{var m=ct();m.textContent=w+1,b(()=>ve(m,1,`px-3 py-1 border rounded-md text-sm ${e(n)===w+1?"bg-[#2271b3] text-white":"bg-white text-gray-700 hover:bg-gray-50"}`)),V("click",m,()=>Q(w+1)),M(E,m)}),t(se);var I=r(se,2),Ye=a(I,!0);t(I),t(fe),t(pe),b((E,x,w,D,m,S)=>{o(L,E),o(ee,x),o(te,w),o(Ge,D),P.disabled=e(n)===1,ve(P,1,`px-3 py-1 border rounded-md text-sm ${e(n)===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`),o(Oe,m),I.disabled=e(n)===e(c)||e(c)===0,ve(I,1,`px-3 py-1 border rounded-md text-sm ${e(n)===e(c)||e(c)===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-700 hover:bg-gray-50"}`),o(Ye,S)},[()=>e(i)?l()("knowledgeBases.details"):"Knowledge Base Details",()=>e(i)?l()("knowledgeBases.metadata"):"Metadata",()=>e(i)?l()("knowledgeBases.actions"):"Actions",()=>e(i)?l()("knowledgeBases.showing",{values:{start:Math.min((e(n)-1)*h+1,e(d).length),end:Math.min(e(n)*h,e(d).length),total:e(d).length}}):`Showing ${Math.min((e(n)-1)*h+1,e(d).length)} to ${Math.min(e(n)*h,e(d).length)} of ${e(d).length} knowledge bases`,()=>e(i)?l()("knowledgeBases.previous"):"Previous",()=>e(i)?l()("knowledgeBases.next"):"Next"]),V("click",P,()=>Q(e(n)-1)),V("click",I,()=>Q(e(n)+1)),M(p,k)};de(y,p=>{e(d).length===0?p(F):p(G,!1)},H)}};de(s,y=>{e(_)?y(T):y(Z,!1)},g)}};de(Se,s=>{e(C)?s(Te):s(Fe,!1)})}t(ue),t(U),b((s,g)=>{o(He,s),o(Ie,` ${g??""}`)},[()=>e(i)?l()("knowledgeBases.myKnowledgeBases"):"My Knowledge Bases",()=>e(i)?l()("knowledgeBases.createNew"):"Create New Knowledge Base"]),M(Y,U),Le(),q()}var pt=K('<div class="container mx-auto px-4 py-8"><h1 class="text-3xl font-bold mb-8 text-gray-800"> </h1> <!></div>');function Kt(Y,J){Ke(J,!0);const[R,q]=Ae(),l=()=>Ee(ze,"$_",R);let i=N(!1);Ce(()=>Ne.subscribe(c=>{c&&v(i,!0)}));var d=pt();tt(n=>{b(c=>st.title=c,[()=>e(i)?l()("knowledgeBases.pageTitle"):"Knowledge Bases"])});var C=a(d),_=a(C,!0);t(C);var h=r(C,2);xt(h,{}),t(d),b(n=>o(_,n),[()=>e(i)?l()("knowledgeBases.pageTitle"):"Knowledge Bases"]),M(Y,d),Le(),q()}export{Kt as component};
