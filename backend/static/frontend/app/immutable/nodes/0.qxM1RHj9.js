import{s as we,b as ie,w as ke,f as Le,c as Ae,a as le,$ as Me}from"../chunks/Cct3hKQg.js";import"../chunks/Bzak7iHL.js";import{d as de,p as ce,u as Q,i as w,f as k,s as Y,j as e,t as L,c as $,h as ve,g as n,o as V,r as t,b as d,m as h,aY as Ee,M as Ie,b5 as je}from"../chunks/D10uF6KO.js";import{i as z}from"../chunks/B5RjaZpx.js";import{a as f,s as y}from"../chunks/gDFrtnMu.js";import{a as N,s as ue}from"../chunks/CAofB27F.js";import{u as se}from"../chunks/DSpOhgIp.js";import{p as Be}from"../chunks/-YgP7Ysb.js";import{b as v}from"../chunks/CjgJlaKl.js";import"../chunks/CbD3bVMs.js";const Oe=async()=>{console.log("Running i18n setup in +layout.js load..."),we();{let i=localStorage.getItem("lang"),a=Le;i&&Ae.includes(i)&&(a=i),ie(a)}return await ke(),{}},ct=Object.freeze(Object.defineProperty({__proto__:null,load:Oe},Symbol.toStringTag,{value:"Module"}));var Ue=(i,a)=>w(a,!n(a)),We=(i,a)=>a("en"),Ce=(i,a)=>a("es"),Se=(i,a)=>a("ca"),ze=(i,a)=>a("eu"),Te=k('<div class="origin-top-right absolute right-0 mt-2 w-24 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="language-menu-button" tabindex="-1"><div class="py-1" role="none"><button role="menuitem" tabindex="-1" id="language-menu-item-0">EN</button> <button role="menuitem" tabindex="-1" id="language-menu-item-1">ES</button> <button role="menuitem" tabindex="-1" id="language-menu-item-2">CA</button> <button role="menuitem" tabindex="-1" id="language-menu-item-3">EU</button></div></div>'),Re=k('<div class="lang-selector relative"><button class="inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50" aria-haspopup="true"> <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button> <!></div>');function Ke(i,a){ce(a,!0);const _=()=>N(le,"$locale",c),[c,u]=ue();let s=Y(!1),x=Y("en");Q(()=>{_()&&w(x,_(),!0)});function q(l){n(s)&&l.target instanceof Element&&!l.target.closest(".lang-selector")&&w(s,!1)}function g(l){ie(l),w(s,!1)}Q(()=>{const l=A=>q(A);return window.addEventListener("click",l,!0),()=>{window.removeEventListener("click",l,!0)}});var b=Re(),M=e(b);M.__click=[Ue,s];var D=e(M);V(),t(M);var F=d(M,2);{var T=l=>{var A=Te(),O=e(A),E=e(O);E.__click=[We,g];var U=d(E,2);U.__click=[Ce,g];var W=d(U,2);W.__click=[Se,g];var R=d(W,2);R.__click=[ze,g],t(O),t(A),L(()=>{y(E,1,`block w-full text-left px-4 py-2 text-sm ${n(x)==="en"?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-100"}`),y(U,1,`block w-full text-left px-4 py-2 text-sm ${n(x)==="es"?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-100"}`),y(W,1,`block w-full text-left px-4 py-2 text-sm ${n(x)==="ca"?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-100"}`),y(R,1,`block w-full text-left px-4 py-2 text-sm ${n(x)==="eu"?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-100"}`)}),$(l,A)};z(F,l=>{n(s)&&l(T)})}t(b),L(l=>{f(M,"aria-expanded",n(s)),h(D,`${l??""} `)},[()=>{var l;return((l=n(x))==null?void 0:l.toUpperCase())??""}]),$(i,b),ve(),u()}de(["click"]);var Ne=k("<a> </a>"),De=k("<a> </a>"),Fe=(i,a)=>w(a,!n(a)),Pe=(i,a)=>w(a,!1),Ye=(i,a)=>w(a,!1),qe=k('<div class="absolute z-50 left-0 top-full w-52 bg-white border border-gray-200 rounded-b-md shadow-lg"><div class="py-2"><a> </a> <a> </a></div></div>'),Ge=k('<a target="_blank" class="inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"> </a>'),He=k('<div class="flex items-center space-x-4"><span class="text-sm font-medium text-gray-700"> </span> <!> <button class="inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700"> </button></div>'),Je=k('<nav class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16"><div class="flex"><div class="flex-shrink-0 flex items-center"><div class="flex items-center space-x-2"><img alt="LAMB Logo" class="h-14"/> <div class="text-lg font-bold"><a> </a> <span class="text-xs bg-gray-200 px-1 py-0.5 rounded">v0.1</span></div></div></div> <div class="hidden sm:ml-6 sm:flex sm:space-x-8"><a> </a> <!> <!> <div class="relative tools-menu h-full flex items-center"><button aria-haspopup="true"> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button> <!></div></div></div> <div class="flex items-center"><!> <div class="ml-4"><!></div></div></div></div></nav>');function Qe(i,a){ce(a,!0);const _=()=>N(le,"$locale",x),c=()=>N(Me,"$_",x),u=()=>N(Be,"$page",x),s=()=>N(se,"$user",x),[x,q]=ue();Ee();let g=Y(!1),b=Y(!1);function M(){se.logout(),window.location.href=v+"/"}function D(o){o.target.closest(".tools-menu")||w(b,!1)}function F(o){n(b)&&o.key==="Escape"&&w(b,!1)}Q(()=>{const o=_();o&&(w(g,!0),console.log("Locale loaded via $effect:",o))}),Ie(()=>(document.addEventListener("click",D),document.addEventListener("keydown",F),()=>{document.removeEventListener("click",D),document.removeEventListener("keydown",F)}));var T=Je(),l=e(T),A=e(l),O=e(A),E=e(O),U=e(E),W=e(U),R=d(W,2),G=e(R),ge=e(G,!0);t(G),V(2),t(R),t(U),t(E);var X=d(E,2),C=e(X),me=e(C,!0);t(C);var Z=d(C,2);{var pe=o=>{var r=Ne(),m=e(r,!0);t(r),L(p=>{f(r,"href",`${v??""}/admin`),y(r,1,`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${u().url.pathname===v+"/admin"?"border-[#2271b3] text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`),h(m,p)},[()=>n(g)?c()("nav.admin",{default:"Admin"}):"Admin"]),$(o,r)};z(Z,o=>{var r;s().isLoggedIn&&((r=s().data)==null?void 0:r.role)==="admin"&&o(pe)})}var ee=d(Z,2);{var xe=o=>{var r=De(),m=e(r,!0);t(r),L(p=>{f(r,"href",`${v??""}/org-admin`),y(r,1,`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${u().url.pathname===v+"/org-admin"?"border-[#2271b3] text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`),h(m,p)},[()=>n(g)?c()("nav.orgAdmin",{default:"Org Admin"}):"Org Admin"]),$(o,r)};z(ee,o=>{var r,m;s().isLoggedIn&&(((r=s().data)==null?void 0:r.role)==="admin"||((m=s().data)==null?void 0:m.organization_role)==="admin")&&o(xe)})}var te=d(ee,2),I=e(te);I.__click=[Fe,b];var ae=e(I),be=d(ae);t(I);var fe=d(I,2);{var _e=o=>{var r=qe(),m=e(r),p=e(m);p.__click=[Pe,b];var P=e(p,!0);t(p);var j=d(p,2);j.__click=[Ye,b];var K=e(j,!0);t(j),t(m),t(r),L((H,B,S,J)=>{f(p,"href",`${v??""}/knowledgebases`),y(p,1,`block px-4 py-3 text-sm font-medium text-gray-700 hover:text-[#2271b3] hover:bg-gray-50 transition-colors duration-150 ${H??""}`),h(P,B),f(j,"href",`${v??""}/evaluaitor`),y(j,1,`block px-4 py-3 text-sm font-medium text-gray-700 hover:text-[#2271b3] hover:bg-gray-50 transition-colors duration-150 ${S??""}`),h(K,J)},[()=>u().url.pathname.startsWith(v+"/knowledgebases")?"bg-blue-50 text-[#2271b3]":"",()=>n(g)?c()("knowledgeBases.title"):"Knowledge Bases",()=>u().url.pathname.startsWith(v+"/evaluaitor")?"bg-blue-50 text-[#2271b3]":"",()=>n(g)?c()("nav.rubrics",{default:"Rubrics"}):"Rubrics"]),$(o,r)};z(fe,o=>{n(b)&&o(_e)})}t(te),t(X),t(O);var re=d(O,2),oe=e(re);{var he=o=>{var r=He(),m=e(r),p=e(m,!0);t(m);var P=d(m,2);{var j=B=>{var S=Ge(),J=e(S,!0);t(S),L($e=>{f(S,"href",s().owiUrl),h(J,$e)},[()=>n(g)?c()("nav.openWebUI",{default:"OpenWebUI"}):"OpenWebUI"]),$(B,S)};z(P,B=>{s().owiUrl&&B(j)})}var K=d(P,2);K.__click=M;var H=e(K,!0);t(K),t(r),L(B=>{h(p,s().name),h(H,B)},[()=>n(g)?c()("auth.logout"):"Logout"]),$(o,r)};z(oe,o=>{s().isLoggedIn&&o(he)})}var ne=d(oe,2),ye=e(ne);Ke(ye,{}),t(ne),t(re),t(A),t(l),t(T),L((o,r,m,p)=>{f(W,"src",`${v??""}/img/lamb_1.png`),f(G,"href",`${v??""}/`),h(ge,o),f(C,"href",`${v??""}/assistants`),y(C,1,`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${u().url.pathname===v+"/assistants"?"border-[#2271b3] text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} ${s().isLoggedIn?"":"opacity-50 pointer-events-none"}`),f(C,"aria-disabled",!s().isLoggedIn),h(me,r),y(I,1,`inline-flex items-center h-full px-1 border-b-2 text-sm font-medium focus:outline-none ${m??""} ${s().isLoggedIn?"":"opacity-50 pointer-events-none"}`),f(I,"aria-disabled",!s().isLoggedIn),f(I,"aria-expanded",n(b)),h(ae,`${p??""} `),y(be,0,`ml-1 h-4 w-4 transition-transform duration-200 ${n(b)?"rotate-180":""}`)},[()=>n(g)?c()("app.logoText",{default:"LAMB"}):"LAMB",()=>n(g)?c()("assistants.title"):"Learning Assistants",()=>u().url.pathname.startsWith(v+"/knowledgebases")||u().url.pathname.startsWith(v+"/evaluaitor")?"border-[#2271b3] text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700",()=>n(g)?c()("nav.tools",{default:"Tools"}):"Tools"]),$(i,T),ve(),q()}de(["click"]);var Ve=k('<footer class="bg-white border-t border-gray-200 mt-auto"><div class="max-w-7xl mx-auto py-4 px-4 sm:px-6 lg:px-8"><div class="flex items-center justify-center space-x-3 text-sm text-gray-600"><img alt="LAMB Logo" class="h-8"/> <div class="flex flex-wrap items-center justify-center gap-x-2"><span class="font-semibold text-gray-900">LAMB</span> <span>Learning Assistants Manager and Builder</span> <span class="text-gray-400">v0.1</span> <span class="text-gray-400">â€¢</span> <a href="https://lamb-project.org" target="_blank" rel="noopener noreferrer" class="text-[#2271b3] hover:text-[#195a91] underline">lamb-project.org</a></div></div></div></footer>');function Xe(i){var a=Ve(),_=e(a),c=e(_),u=e(c);V(2),t(c),t(_),t(a),L(()=>f(u,"src",`${v??""}/img/lamb_1.png`)),$(i,a)}var Ze=k('<div class="min-h-screen bg-gray-50 flex flex-col"><!> <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8 flex-grow"><!></main> <!></div>');function vt(i,a){var _=Ze(),c=e(_);Qe(c,{});var u=d(c,2),s=e(u);je(s,()=>a.children),t(u);var x=d(u,2);Xe(x),t(_),$(i,_)}export{vt as component,ct as universal};
