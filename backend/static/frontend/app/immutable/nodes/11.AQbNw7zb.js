import"../chunks/Bzak7iHL.js";import"../chunks/CbD3bVMs.js";import{p as Me,M as Ce,aQ as ee,aR as ke,f as v,N as Oe,l as G,t as O,j as l,b as r,g as e,e as H,c as o,h as $e,O as _,$ as Ne,i as n,r as a,aS as Se,m as b,k as De,K as w}from"../chunks/D10uF6KO.js";import{i as z}from"../chunks/B5RjaZpx.js";import{e as Pe,i as Ue}from"../chunks/BY88_K0J.js";import{r as Fe}from"../chunks/gDFrtnMu.js";import{b as Qe}from"../chunks/CF2p2rhS.js";import{b as Re}from"../chunks/DRu2A6f6.js";import{i as je}from"../chunks/9AfmHA9f.js";import{s as Be,a as Ie}from"../chunks/CAofB27F.js";import{g as se}from"../chunks/5D1vQkJ2.js";import{u as Ke}from"../chunks/DSpOhgIp.js";import{A as Ve,g as qe}from"../chunks/CtuTlJ64.js";var Ee=v('<div class="error-message svelte-w4n6zx"> </div>'),Ge=v('<div class="loading svelte-w4n6zx">Loading assistants...</div>'),He=v('<p class="svelte-w4n6zx">No assistants match your search criteria.</p> <button class="btn-secondary svelte-w4n6zx">Clear Filters</button>',1),Je=v('<p class="svelte-w4n6zx">No assistants found in your organization.</p>'),Te=v('<div class="empty-state svelte-w4n6zx"><!></div>'),We=v('<span class="badge badge-published svelte-w4n6zx">Published</span>'),Xe=v('<span class="badge badge-unpublished svelte-w4n6zx">Unpublished</span>'),Ye=v('<tr class="svelte-w4n6zx"><td class="name-cell svelte-w4n6zx"> </td><td class="description-cell svelte-w4n6zx"> </td><td class="owner-cell svelte-w4n6zx"> </td><td class="svelte-w4n6zx"><!></td><td class="date-cell svelte-w4n6zx"> </td><td class="actions-cell svelte-w4n6zx"><button class="btn-action svelte-w4n6zx" title="Manage user access">Manage Access</button></td></tr>'),Ze=v('<div class="assistants-table-container svelte-w4n6zx"><table class="assistants-table svelte-w4n6zx"><thead class="svelte-w4n6zx"><tr><th class="svelte-w4n6zx">Name</th><th class="svelte-w4n6zx">Description</th><th class="svelte-w4n6zx">Owner</th><th class="svelte-w4n6zx">Status</th><th class="svelte-w4n6zx">Created</th><th class="svelte-w4n6zx">Actions</th></tr></thead><tbody class="svelte-w4n6zx"></tbody></table></div>'),es=v('<div class="container svelte-w4n6zx"><div class="header svelte-w4n6zx"><h1 class="svelte-w4n6zx">Organization Assistants</h1> <p class="subtitle svelte-w4n6zx">View and manage access to all assistants in your organization</p></div> <div class="controls svelte-w4n6zx"><div class="search-box svelte-w4n6zx"><input type="text" placeholder="Search assistants..." class="search-input svelte-w4n6zx"/></div> <div class="filter-box svelte-w4n6zx"><label for="filter-published" class="svelte-w4n6zx">Filter:</label> <select id="filter-published" class="filter-select svelte-w4n6zx"><option>All Assistants</option><option>Published Only</option><option>Unpublished Only</option></select></div> <button class="btn-refresh svelte-w4n6zx"> </button></div> <!> <!></div> <!>',1);function _s(te,ae){Me(ae,!1);const $=()=>Ie(Ke,"$user",le),[le,re]=Be(),y=_();let N=_([]),x=_(!0),A=_(""),S=_(null),L=_(!1),c=_(""),d=_("all");Ce(async()=>{await J()});async function J(){n(x,!0),n(A,"");try{const s=await qe($().token);n(N,s.assistants||[])}catch(s){n(A,s.message)}finally{n(x,!1)}}function ne(s){n(S,s),n(L,!0)}function oe(){n(L,!1),n(S,null)}function ie(){}function ve(s){return s?new Date(s*1e3).toLocaleDateString():"N/A"}ee(()=>($(),se),()=>{$().isLoggedIn||se("/")}),ee(()=>(e(N),e(c),e(d)),()=>{n(y,e(N).filter(s=>{const i=!e(c)||s.name.toLowerCase().includes(e(c).toLowerCase())||s.owner.toLowerCase().includes(e(c).toLowerCase())||s.description&&s.description.toLowerCase().includes(e(c).toLowerCase()),m=e(d)==="all"||e(d)==="published"&&s.published||e(d)==="unpublished"&&!s.published;return i&&m}))}),ke(),je();var T=es();Oe(s=>{Ne.title="Organization Assistants - LAMB"});var D=G(T),P=r(l(D),2),U=l(P),W=l(U);Fe(W),a(U);var F=r(U,2),Q=r(l(F),2);O(()=>{e(d),Se(()=>{})});var R=l(Q);R.value=R.__value="all";var j=r(R);j.value=j.__value="published";var X=r(j);X.value=X.__value="unpublished",a(Q),a(F);var M=r(F,2),ce=l(M,!0);a(M),a(P);var Y=r(P,2);{var de=s=>{var i=Ee(),m=l(i,!0);a(i),O(()=>b(m,e(A))),o(s,i)};z(Y,s=>{e(A)&&s(de)})}var ue=r(Y,2);{var pe=s=>{var i=Ge();o(s,i)},_e=s=>{var i=De(),m=G(i);{var fe=f=>{var h=Te(),C=l(h);{var k=t=>{var u=He(),g=r(G(u),2);H("click",g,()=>{n(c,""),n(d,"all")}),o(t,u)},B=t=>{var u=Je();o(t,u)};z(C,t=>{e(c)||e(d)!=="all"?t(k):t(B,!1)})}a(h),o(f,h)},be=f=>{var h=Ze(),C=l(h),k=r(l(C));Pe(k,5,()=>e(y),Ue,(B,t)=>{var u=Ye(),g=l(u),we=l(g,!0);a(g);var I=r(g),xe=l(I,!0);a(I);var K=r(I),me=l(K,!0);a(K);var V=r(K),ge=l(V);{var ze=p=>{var E=We();o(p,E)},ye=p=>{var E=Xe();o(p,E)};z(ge,p=>{e(t),w(()=>e(t).published)?p(ze):p(ye,!1)})}a(V);var q=r(V),Ae=l(q,!0);a(q);var Z=r(q),Le=l(Z);a(Z),a(u),O(p=>{b(we,(e(t),w(()=>e(t).name))),b(xe,(e(t),w(()=>e(t).description||"â€”"))),b(me,(e(t),w(()=>e(t).owner))),b(Ae,p)},[()=>(e(t),w(()=>ve(e(t).created_at)))]),H("click",Le,()=>ne(e(t))),o(B,u)}),a(k),a(C),a(h),o(f,h)};z(m,f=>{e(y),w(()=>e(y).length===0)?f(fe):f(be,!1)},!0)}o(s,i)};z(ue,s=>{e(x)?s(pe):s(_e,!1)})}a(D);var he=r(D,2);Ve(he,{get assistant(){return e(S)},get show(){return e(L)},set show(s){n(L,s)},$$events:{close:oe,updated:ie},$$legacy:!0}),O(()=>{M.disabled=e(x),b(ce,e(x)?"Loading...":"Refresh")}),Qe(W,()=>e(c),s=>n(c,s)),Re(Q,()=>e(d),s=>n(d,s)),H("click",M,J),o(te,T),$e(),re()}export{_s as component};
