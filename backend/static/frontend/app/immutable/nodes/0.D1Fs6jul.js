import{s as ye,b as ae,f as he,c as $e,a as re,$ as we}from"../chunks/B9q8dB_t.js";import{d as ne,t as k,b as $,s as x}from"../chunks/DbBWcICI.js";import{b as ke,a8 as Le,c as Ae,F as Ie,i as Ee,h as Se,d as Be,p as oe,u as K,q as N,j as G,o as e,t as E,n as se,m as s,v as ie,r as t,l as d,av as Me}from"../chunks/DMsokd5p.js";import{i as C}from"../chunks/MBI0PpQy.js";import{a as b,s as w}from"../chunks/gPkShxx4.js";import{s as le,a as z}from"../chunks/BsHaMxS4.js";import{u as ee}from"../chunks/CmzVOFLo.js";import{p as Oe}from"../chunks/3ElTuAwM.js";import{b as p}from"../chunks/DlJa0Cru.js";function Ue(i,r,...g){var f=i,u=Ie,a;ke(()=>{u!==(u=r())&&(a&&(Ee(a),a=null),a=Ae(()=>u(f,...g)))},Le),Se&&(f=Be)}let te=!1;const Te=async()=>{if(!te){console.log("Running i18n setup in +layout.js load..."),ye();let i=localStorage.getItem("lang"),r=he;i&&$e.includes(i)&&(r=i),ae(r),te=!0}return{}},ot=Object.freeze(Object.defineProperty({__proto__:null,load:Te},Symbol.toStringTag,{value:"Module"}));var je=(i,r)=>N(r,!s(r)),Ce=(i,r)=>r("en"),ze=(i,r)=>r("es"),Ne=(i,r)=>r("ca"),We=(i,r)=>r("eu"),Fe=k('<div class="origin-top-right absolute right-0 mt-2 w-24 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-10 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="language-menu-button" tabindex="-1"><div class="py-1" role="none"><button role="menuitem" tabindex="-1" id="language-menu-item-0">EN</button> <button role="menuitem" tabindex="-1" id="language-menu-item-1">ES</button> <button role="menuitem" tabindex="-1" id="language-menu-item-2">CA</button> <button role="menuitem" tabindex="-1" id="language-menu-item-3">EU</button></div></div>'),Re=k('<div class="lang-selector relative"><button class="inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50" aria-haspopup="true"> <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button> <!></div>');function Pe(i,r){oe(r,!0);const[g,f]=le(),u=()=>z(re,"$locale",g);let a=G(!1),m=G("en");K(()=>{u()&&N(m,u(),!0)});function c(n){s(a)&&n.target instanceof Element&&!n.target.closest(".lang-selector")&&N(a,!1)}function v(n){ae(n),N(a,!1)}K(()=>{const n=h=>c(h);return window.addEventListener("click",n,!0),()=>{window.removeEventListener("click",n,!0)}});var M=Re(),_=e(M);_.__click=[je,a];var W=e(_);ie(),t(_);var F=d(_,2);{var O=n=>{var h=Fe(),U=e(h),S=e(U);S.__click=[Ce,v];var L=d(S,2);L.__click=[ze,v];var A=d(L,2);A.__click=[Ne,v];var R=d(A,2);R.__click=[We,v],t(U),t(h),E(()=>{w(S,1,`block w-full text-left px-4 py-2 text-sm ${s(m)==="en"?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-100"}`),w(L,1,`block w-full text-left px-4 py-2 text-sm ${s(m)==="es"?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-100"}`),w(A,1,`block w-full text-left px-4 py-2 text-sm ${s(m)==="ca"?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-100"}`),w(R,1,`block w-full text-left px-4 py-2 text-sm ${s(m)==="eu"?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-100"}`)}),$(n,h)};C(F,n=>{s(a)&&n(O)})}t(M),E(n=>{b(_,"aria-expanded",s(a)),x(W,`${n??""} `)},[()=>{var n;return((n=s(m))==null?void 0:n.toUpperCase())??""}]),$(i,M),se(),f()}ne(["click"]);var qe=k("<a> </a>"),De=k("<a> </a>"),Ke=k('<a target="_blank" class="inline-flex items-center px-3 py-1 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"> </a>'),Ge=k('<div class="flex items-center space-x-4"><span class="text-sm font-medium text-gray-700"> </span> <!> <button class="inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700"> </button></div>'),He=k('<nav class="bg-white shadow"><div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"><div class="flex justify-between h-16"><div class="flex"><div class="flex-shrink-0 flex items-center"><div class="flex items-center space-x-2"><img alt="LAMB Logo" class="h-14"> <div><div class="text-lg font-bold"><a> </a> <span class="text-xs bg-gray-200 px-1 py-0.5 rounded">v0.1</span></div> <span class="text-xs text-gray-600"> </span></div></div></div> <div class="hidden sm:ml-6 sm:flex sm:space-x-8"><a> </a> <!> <!>  <a> </a></div></div> <div class="flex items-center"><!> <div class="ml-4"><!></div></div></div></div></nav>');function Je(i,r){oe(r,!0);const[g,f]=le(),u=()=>z(re,"$locale",g),a=()=>z(we,"$_",g),m=()=>z(Oe,"$page",g),c=()=>z(ee,"$user",g);Me();let v=G(!1);function M(){ee.logout(),window.location.href=p+"/"}K(()=>{const l=u();l&&(N(v,!0),console.log("Locale loaded via $effect:",l))});var _=He(),W=e(_),F=e(W),O=e(F),n=e(O),h=e(n),U=e(h);b(U,"src",`${p??""}/img/lamb_1.png`);var S=d(U,2),L=e(S),A=e(L);b(A,"href",`${p??""}/`);var R=e(A,!0);t(A),ie(2),t(L);var H=d(L,2),de=e(H,!0);t(H),t(S),t(h),t(n);var J=d(n,2),B=e(J);b(B,"href",`${p??""}/assistants`);var ve=e(B,!0);t(B);var Q=d(B,2);{var ce=l=>{var o=qe();b(o,"href",`${p??""}/admin`);var y=e(o,!0);t(o),E(I=>{w(o,1,`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${m().url.pathname===p+"/admin"?"border-[#2271b3] text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`),x(y,I)},[()=>s(v)?a()("nav.admin",{default:"System Admin"}):"System Admin"]),$(l,o)};C(Q,l=>{var o;c().isLoggedIn&&((o=c().data)==null?void 0:o.role)==="admin"&&l(ce)})}var V=d(Q,2);{var ge=l=>{var o=De();b(o,"href",`${p??""}/org-admin`);var y=e(o,!0);t(o),E(I=>{w(o,1,`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${m().url.pathname===p+"/org-admin"?"border-[#2271b3] text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}`),x(y,I)},[()=>s(v)?a()("nav.orgAdmin",{default:"Org Admin"}):"Org Admin"]),$(l,o)};C(V,l=>{c().isLoggedIn&&l(ge)})}var T=d(V,2);b(T,"href",`${p??""}/knowledgebases`);var ue=e(T,!0);t(T),t(J),t(O);var X=d(O,2),Y=e(X);{var me=l=>{var o=Ge(),y=e(o),I=e(y,!0);t(y);var P=d(y,2);{var xe=j=>{var q=Ke(),fe=e(q,!0);t(q),E(_e=>{b(q,"href",c().owiUrl),x(fe,_e)},[()=>s(v)?a()("nav.openWebUI",{default:"OpenWebUI"}):"OpenWebUI"]),$(j,q)};C(P,j=>{c().owiUrl&&j(xe)})}var D=d(P,2);D.__click=M;var be=e(D,!0);t(D),t(o),E(j=>{x(I,c().name),x(be,j)},[()=>s(v)?a()("auth.logout"):"Logout"]),$(l,o)};C(Y,l=>{c().isLoggedIn&&l(me)})}var Z=d(Y,2),pe=e(Z);Pe(pe,{}),t(Z),t(X),t(F),t(W),t(_),E((l,o,y,I,P)=>{x(R,l),x(de,o),w(B,1,`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${m().url.pathname===p+"/assistants"?"border-[#2271b3] text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"} ${c().isLoggedIn?"":"opacity-50 pointer-events-none"}`),b(B,"aria-disabled",!c().isLoggedIn),x(ve,y),w(T,1,`inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium ${I??""} ${c().isLoggedIn?"":"opacity-50 pointer-events-none"}`),b(T,"aria-disabled",!c().isLoggedIn),x(ue,P)},[()=>s(v)?a()("app.logoText",{default:"LAMB"}):"LAMB",()=>s(v)?a()("app.tagline",{default:"Learning Assistants Manager and Builder"}):"Learning Assistants Manager and Builder",()=>s(v)?a()("assistants.title"):"Learning Assistants",()=>m().url.pathname.startsWith(p+"/knowledgebases")?"border-[#2271b3] text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700",()=>s(v)?a()("knowledgeBases.title"):"Knowledge Bases"]),$(i,_),se(),f()}ne(["click"]);var Qe=k('<div class="min-h-screen bg-gray-50"><!> <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"><!></main></div>');function st(i,r){var g=Qe(),f=e(g);Je(f,{});var u=d(f,2),a=e(u);Ue(a,()=>r.children),t(u),t(g),$(i,g)}export{st as component,ot as universal};
