import"../chunks/Bzak7iHL.js";import"../chunks/CbD3bVMs.js";import{p as Et,M as Ot,f as u,N as qt,c as v,h as Nt,$ as jt,b as a,j as r,i as o,O,r as t,g as e,l as pe,t as L,e as ee,m as c,k as ye,o as me,P as ke,Q as Lt,R as Ut}from"../chunks/D10uF6KO.js";import{i as _}from"../chunks/B5RjaZpx.js";import{e as he,i as _e}from"../chunks/BY88_K0J.js";import{s as ue,r as st,a as be}from"../chunks/gDFrtnMu.js";import{s as ge}from"../chunks/BPb77SYP.js";import{b as ot}from"../chunks/CF2p2rhS.js";import{i as Jt}from"../chunks/9AfmHA9f.js";import{s as Bt,a as Gt}from"../chunks/CAofB27F.js";import{a as It}from"../chunks/BVlmaXU-.js";import{u as Ft}from"../chunks/DSpOhgIp.js";import{a as xe}from"../chunks/ngrFHoWO.js";var Ht=u('<div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded mb-6"><strong>Authentication Required:</strong> Please log in to access the MCP testing interface.</div>'),zt=u('<div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6"><strong>Error:</strong> </div>'),Xt=u('<div class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-6">Loading...</div>'),Yt=u('<div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><h3 class="font-medium text-gray-700">Server Info</h3> <p><strong>Status:</strong> </p> <p><strong>Protocol Version:</strong> </p> <p><strong>Name:</strong> </p> <p><strong>Version:</strong> </p></div> <div><h3 class="font-medium text-gray-700">Statistics</h3> <p><strong>Total Assistants:</strong> </p> <p><strong>MCP Integration:</strong> </p></div></div>'),Dt=u('<button><div class="font-medium"> </div> <div class="text-sm text-gray-600"> </div></button>'),Vt=u('<div><label class="block text-sm font-medium text-gray-700 mb-1"> </label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent"/></div>'),Wt=u('<div class="mt-4"><h5 class="font-medium text-gray-700 mb-2">Result:</h5> <pre class="bg-gray-100 p-3 rounded text-sm overflow-auto"> </pre></div>'),Qt=u('<div><h4 class="font-medium text-gray-700 mb-2"> </h4> <div class="space-y-3"><!> <button class="bg-brand text-white px-4 py-2 rounded hover:bg-brand-hover" style="background-color: #2271b3;">Test Prompt</button></div> <!></div>'),Kt=u('<div class="p-6"><h3 class="text-lg font-semibold text-gray-800 mb-4">Available Prompts</h3> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div><h4 class="font-medium text-gray-700 mb-2">Select a Prompt</h4> <div class="space-y-2"></div></div> <!></div></div>'),Zt=u('<div class="p-6 text-center text-gray-500"><p>No prompts available. You need to create assistants first.</p></div>'),er=u('<button><div class="font-medium"> </div> <div class="text-sm text-gray-600"> </div></button>'),tr=u('<div><label class="block text-sm font-medium text-gray-700 mb-1"> </label> <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-brand focus:border-transparent"/></div>'),rr=u('<div class="mt-4"><h5 class="font-medium text-gray-700 mb-2">Result:</h5> <pre class="bg-gray-100 p-3 rounded text-sm overflow-auto"> </pre></div>'),ar=u('<div><h4 class="font-medium text-gray-700 mb-2"> </h4> <div class="space-y-3"><!> <button class="bg-brand text-white px-4 py-2 rounded hover:bg-brand-hover" style="background-color: #2271b3;">Test Tool</button></div> <!></div>'),sr=u('<div class="p-6"><h3 class="text-lg font-semibold text-gray-800 mb-4">Available Tools</h3> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div><h4 class="font-medium text-gray-700 mb-2">Select a Tool</h4> <div class="space-y-2"></div></div> <!></div></div>'),or=u('<div class="p-6 text-center text-gray-500"><p>No tools available yet.</p></div>'),ir=u('<div class="p-3 border border-gray-200 rounded"><div class="font-medium"> </div> <div class="text-sm text-gray-600"> </div> <div class="text-xs text-gray-500 mt-1"> </div></div>'),dr=u('<div class="p-6"><h3 class="text-lg font-semibold text-gray-800 mb-4">Available Resources</h3> <div class="space-y-2"></div></div>'),lr=u('<div class="p-6 text-center text-gray-500"><p>No resources available yet.</p></div>'),nr=u(`<div class="p-6"><h3 class="text-lg font-semibold text-gray-800 mb-4">MCP Client Setup Instructions</h3> <div class="space-y-6"><div class="bg-blue-50 border border-blue-200 rounded-lg p-4"><h4 class="font-medium text-blue-800 mb-2">üîó Connect Your MCP Client</h4> <p class="text-blue-700 text-sm">Use the configuration below to connect your MCP client (like Claude Desktop, Cline, or other MCP-compatible tools) 
							to your LAMB assistants. Your assistants will appear as prompt templates that return fully crafted prompts with RAG context.</p></div> <div class="bg-gray-50 border border-gray-200 rounded-lg p-4"><h4 class="font-medium text-gray-800 mb-2">üë§ Your Configuration</h4> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"><div><span class="font-medium">User Email:</span> <code class="bg-white px-2 py-1 rounded border"> </code></div> <div><span class="font-medium">Server URL:</span> <code class="bg-white px-2 py-1 rounded border"> </code></div></div></div> <div><h4 class="font-medium text-gray-800 mb-3">üìã MCP Client Configuration</h4> <p class="text-sm text-gray-600 mb-3">Add this configuration to your MCP client's settings. For Claude Desktop, add it to your <code>claude_desktop_config.json</code> file:</p> <div class="bg-gray-900 text-green-400 p-4 rounded-lg overflow-x-auto"><pre class="text-sm"><code> </code></pre></div> <div class="mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded"><p class="text-sm text-yellow-800"><strong>‚ö†Ô∏è Important:</strong> Replace <code>your-email@example.com</code> with your actual email address: <code class="bg-white px-1 rounded"> </code></p></div></div> <div><h4 class="font-medium text-gray-800 mb-3">üîß Alternative: Using Official MCP Servers</h4> <p class="text-sm text-gray-600 mb-3">Use official MCP servers as proxies to connect to LAMB:</p> <div class="bg-gray-100 p-4 rounded-lg"><div class="space-y-4"><div><div class="font-medium mb-2">Option 1: Filesystem Server (Recommended)</div> <div class="bg-gray-900 text-green-400 p-3 rounded text-sm overflow-x-auto"><pre><code></code></pre></div></div> <div><div class="font-medium mb-2">Option 2: Create Custom Server</div> <div class="bg-gray-900 text-green-400 p-3 rounded text-sm overflow-x-auto"><pre><code></code></pre></div></div></div></div></div> <div><h4 class="font-medium text-gray-800 mb-3">‚úÖ Working Configuration Examples</h4> <p class="text-sm text-gray-600 mb-3">Here are tested configurations that work with popular MCP clients:</p> <div class="space-y-4"><div class="bg-blue-50 border border-blue-200 rounded-lg p-4"><h5 class="font-medium text-blue-800 mb-2">Option 1: Simple Node.js Proxy (Recommended)</h5> <div class="bg-gray-900 text-green-400 p-3 rounded text-sm overflow-x-auto"><pre><code></code></pre></div> <p class="text-sm text-blue-700 mt-2">This creates a minimal proxy using only Node.js built-ins</p></div> <div class="bg-green-50 border border-green-200 rounded-lg p-4"><h5 class="font-medium text-green-800 mb-2">Option 2: cURL-based (Universal)</h5> <div class="bg-gray-900 text-green-400 p-3 rounded text-sm overflow-x-auto"><pre><code> </code></pre></div> <p class="text-sm text-green-700 mt-2">Works on any system with curl and shell</p></div> <div class="bg-purple-50 border border-purple-200 rounded-lg p-4"><h5 class="font-medium text-purple-800 mb-2">Option 3: Python Proxy</h5> <div class="bg-gray-900 text-green-400 p-3 rounded text-sm overflow-x-auto"><pre><code> </code></pre></div> <p class="text-sm text-purple-700 mt-2">Uses Python's built-in libraries</p></div></div></div> <div><h4 class="font-medium text-gray-800 mb-3">üõ†Ô∏è Available Endpoints</h4> <div class="space-y-2 text-sm"><div class="flex justify-between items-center p-2 bg-gray-50 rounded"><code>GET /status</code> <span class="text-gray-600">Server status and capabilities</span></div> <div class="flex justify-between items-center p-2 bg-gray-50 rounded"><code>GET /prompts/list</code> <span class="text-gray-600">List your LAMB assistants as prompts</span></div> <div class="flex justify-between items-center p-2 bg-gray-50 rounded"><code></code> <span class="text-gray-600">Get crafted prompt with RAG context</span></div> <div class="flex justify-between items-center p-2 bg-gray-50 rounded"><code>GET /tools/list</code> <span class="text-gray-600">List available tools (empty for now)</span></div> <div class="flex justify-between items-center p-2 bg-gray-50 rounded"><code>GET /resources/list</code> <span class="text-gray-600">List available resources (empty for now)</span></div></div></div> <div><h4 class="font-medium text-gray-800 mb-3">üöÄ How to Use</h4> <div class="space-y-3 text-sm"><div class="flex items-start space-x-3"><span class="bg-brand text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold" style="background-color: #2271b3;">1</span> <div><div class="font-medium">Configure your MCP client</div> <div class="text-gray-600">Add the JSON configuration to your MCP client (e.g., Claude Desktop)</div></div></div> <div class="flex items-start space-x-3"><span class="bg-brand text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold" style="background-color: #2271b3;">2</span> <div><div class="font-medium">Restart your MCP client</div> <div class="text-gray-600">Restart Claude Desktop or your MCP client to load the new server</div></div></div> <div class="flex items-start space-x-3"><span class="bg-brand text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold" style="background-color: #2271b3;">3</span> <div><div class="font-medium">Access your assistants</div> <div class="text-gray-600">Your LAMB assistants will appear as prompt templates in the MCP client</div></div></div> <div class="flex items-start space-x-3"><span class="bg-brand text-white rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold" style="background-color: #2271b3;">4</span> <div><div class="font-medium">Use enriched prompts</div> <div class="text-gray-600">Get fully crafted prompts with RAG context, then use your preferred LLM</div></div></div></div></div> <div class="bg-red-50 border border-red-200 rounded-lg p-4"><h4 class="font-medium text-red-800 mb-2">üîß Troubleshooting</h4> <ul class="text-sm text-red-700 space-y-1"><li>‚Ä¢ Make sure you're logged in to LAMB with the correct email address</li> <li>‚Ä¢ Verify the server URL is accessible from your MCP client</li> <li>‚Ä¢ Check that you have created at least one assistant in LAMB</li> <li>‚Ä¢ Ensure the LTI secret matches your server configuration</li> <li>‚Ä¢ Restart your MCP client after configuration changes</li></ul></div></div></div>`),vr=u('<!> <!> <div class="bg-white rounded-lg shadow-md p-6 mb-8"><div class="flex justify-between items-center mb-4"><h2 class="text-xl font-semibold text-gray-800">MCP Server Status</h2> <button class="bg-brand text-white px-4 py-2 rounded hover:bg-brand-hover" style="background-color: #2271b3;">Refresh Status</button></div> <!></div> <div class="bg-white rounded-lg shadow-md mb-8"><div class="border-b border-gray-200"><nav class="-mb-px flex space-x-8 px-6"><button>Prompts</button> <button>Tools</button> <button>Resources</button> <button>Client Setup</button></nav></div> <!> <!> <!> <!></div>',1),cr=u('<div class="container mx-auto px-4 py-8"><h1 class="text-3xl font-bold text-gray-800 mb-8">MCP Testing Interface</h1> <!></div>');function Pr(it,dt){Et(dt,!1);const se=()=>Gt(Ft,"$user",lt),[lt,nt]=Bt();let J=O({}),te=O(null),Te=O([]),Re=O([]),Ae=O([]),w=O(!1),M=O(null),Q=O(null),oe=O({}),we=O(null),F=O(null),ie=O({}),Se=O(null),S=O("prompts");Ot(()=>{o(J,It()),Ue()});function le(s){var re,de;return`${(((de=(re=e(J))==null?void 0:re.api)==null?void 0:de.lambServer)||"http://localhost:9099").replace(/\/$/,"")}/lamb/v1/mcp${s}`}function ne(){var re,de;const s=((de=(re=e(J))==null?void 0:re.api)==null?void 0:de.ltiSecret)||"pepino-secret-key",B=se().email||"test@example.com";return{Authorization:`Bearer ${s}`,"X-User-Email":B,"Content-Type":"application/json"}}async function Ue(){o(w,!0),o(M,null);try{const s=await xe.get(le("/status"),{headers:ne()});o(te,s.data)}catch(s){o(M,`Failed to load MCP status: ${s.message}`),console.error("MCP Status Error:",s)}finally{o(w,!1)}}async function vt(){o(w,!0),o(M,null),o(S,"prompts");try{const s=await xe.get(le("/prompts/list"),{headers:ne()});o(Te,s.data.prompts||[])}catch(s){o(M,`Failed to load MCP prompts: ${s.message}`),console.error("MCP Prompts Error:",s)}finally{o(w,!1)}}async function ct(){o(w,!0),o(M,null),o(S,"tools");try{const s=await xe.get(le("/tools/list"),{headers:ne()});o(Re,s.data.tools||[])}catch(s){o(M,`Failed to load MCP tools: ${s.message}`),console.error("MCP Tools Error:",s)}finally{o(w,!1)}}async function pt(){o(w,!0),o(M,null),o(S,"resources");try{const s=await xe.get(le("/resources/list"),{headers:ne()});o(Ae,s.data.resources||[])}catch(s){o(M,`Failed to load MCP resources: ${s.message}`),console.error("MCP Resources Error:",s)}finally{o(w,!1)}}async function mt(){if(e(Q)){o(w,!0),o(M,null);try{const s=await xe.post(le(`/prompts/get/${e(Q).name}`),e(oe),{headers:ne()});o(we,s.data)}catch(s){o(M,`Failed to test prompt: ${s.message}`),console.error("Prompt Test Error:",s)}finally{o(w,!1)}}}async function ut(){if(e(F)){o(w,!0),o(M,null);try{const s=await xe.post(le(`/tools/call/${e(F).name}`),e(ie),{headers:ne()});o(Se,s.data)}catch(s){o(M,`Failed to test tool: ${s.message}`),console.error("Tool Test Error:",s)}finally{o(w,!1)}}}function bt(s){o(Q,s),o(oe,{}),o(we,null),s.arguments&&s.arguments.forEach(B=>{ke(oe,e(oe)[B.name]="")})}function gt(s){o(F,s),o(ie,{}),o(Se,null),s.inputSchema&&s.inputSchema.properties&&Object.keys(s.inputSchema.properties).forEach(B=>{ke(ie,e(ie)[B]="")})}Jt();var Ee=cr();qt(s=>{jt.title="MCP Testing - LAMB"});var xt=a(r(Ee),2);{var ft=s=>{var B=Ht();v(s,B)},yt=s=>{var B=vr(),re=pe(B);{var de=n=>{var p=zt(),k=a(r(p));t(p),L(()=>c(k,` ${e(M)??""}`)),v(n,p)};_(re,n=>{e(M)&&n(de)})}var Je=a(re,2);{var ht=n=>{var p=Xt();v(n,p)};_(Je,n=>{e(w)&&n(ht)})}var Oe=a(Je,2),qe=r(Oe),Be=a(r(qe),2);t(qe);var _t=a(qe,2);{var wt=n=>{var p=Yt(),k=r(p),q=a(r(k),2),H=a(r(q));t(q);var d=a(q,2),m=a(r(d));t(d);var T=a(d,2),R=a(r(T));t(T);var P=a(T,2),G=a(r(P));t(P),t(k);var A=a(k,2),b=a(r(A),2),l=a(r(b));t(b);var i=a(b,2),f=a(r(i));t(i),t(A),t(p),L(()=>{var x,h,N,C;c(H,` ${e(te).status??""}`),c(m,` ${e(te).protocolVersion??""}`),c(R,` ${((x=e(te).serverInfo)==null?void 0:x.name)??""}`),c(G,` ${((h=e(te).serverInfo)==null?void 0:h.version)??""}`),c(l,` ${(((N=e(te).statistics)==null?void 0:N.total_assistants)||"N/A")??""}`),c(f,` ${(((C=e(te).statistics)==null?void 0:C.mcp_integration)||"N/A")??""}`)}),v(n,p)};_(_t,n=>{e(te)&&n(wt)})}t(Oe);var Ge=a(Oe,2),Ne=r(Ge),Ie=r(Ne),Ce=r(Ie),Pe=a(Ce,2),$e=a(Pe,2),je=a($e,2);t(Ie),t(Ne);var Fe=a(Ne,2);{var St=n=>{var p=ye(),k=pe(p);{var q=d=>{var m=Kt(),T=a(r(m),2),R=r(T),P=a(r(R),2);he(P,5,()=>e(Te),_e,(b,l)=>{var i=Dt(),f=r(i),x=r(f,!0);t(f);var h=a(f,2),N=r(h,!0);t(h),t(i),L(()=>{var C,j;ue(i,1,`w-full text-left p-3 border rounded hover:bg-gray-50 ${((C=e(Q))==null?void 0:C.name)===e(l).name?"border-brand bg-blue-50":"border-gray-200"}`),ge(i,((j=e(Q))==null?void 0:j.name)===e(l).name?"border-color: #2271b3;":""),c(x,e(l).name),c(N,e(l).description)}),ee("click",i,()=>bt(e(l))),v(b,i)}),t(P),t(R);var G=a(R,2);{var A=b=>{var l=Qt(),i=r(l),f=r(i);t(i);var x=a(i,2),h=r(x);{var N=y=>{var g=ye(),U=pe(g);he(U,1,()=>e(Q).arguments,_e,(z,$)=>{var K=Vt(),E=r(K),ce=r(E);t(E);var X=a(E,2);st(X),t(K),L(()=>{be(E,"for",`prompt-arg-${e($).name??""}`),c(ce,`${e($).name??""} ${e($).required?"*":""}`),be(X,"id",`prompt-arg-${e($).name??""}`),be(X,"placeholder",e($).description)}),ot(X,()=>e(oe)[e($).name],Y=>ke(oe,e(oe)[e($).name]=Y)),v(z,K)}),v(y,g)};_(h,y=>{e(Q).arguments&&y(N)})}var C=a(h,2);t(x);var j=a(x,2);{var ve=y=>{var g=Wt(),U=a(r(g),2),z=r(U,!0);t(U),t(g),L($=>c(z,$),[()=>JSON.stringify(e(we),null,2)]),v(y,g)};_(j,y=>{e(we)&&y(ve)})}t(l),L(()=>{c(f,`Test Prompt: ${e(Q).name??""}`),C.disabled=e(w)}),ee("click",C,mt),v(b,l)};_(G,b=>{e(Q)&&b(A)})}t(T),t(m),v(d,m)},H=d=>{var m=Zt();v(d,m)};_(k,d=>{e(Te).length>0?d(q):d(H,!1)})}v(n,p)};_(Fe,n=>{e(S)==="prompts"&&n(St)})}var He=a(Fe,2);{var Ct=n=>{var p=ye(),k=pe(p);{var q=d=>{var m=sr(),T=a(r(m),2),R=r(T),P=a(r(R),2);he(P,5,()=>e(Re),_e,(b,l)=>{var i=er(),f=r(i),x=r(f,!0);t(f);var h=a(f,2),N=r(h,!0);t(h),t(i),L(()=>{var C,j;ue(i,1,`w-full text-left p-3 border rounded hover:bg-gray-50 ${((C=e(F))==null?void 0:C.name)===e(l).name?"border-brand bg-blue-50":"border-gray-200"}`),ge(i,((j=e(F))==null?void 0:j.name)===e(l).name?"border-color: #2271b3;":""),c(x,e(l).name),c(N,e(l).description)}),ee("click",i,()=>gt(e(l))),v(b,i)}),t(P),t(R);var G=a(R,2);{var A=b=>{var l=ar(),i=r(l),f=r(i);t(i);var x=a(i,2),h=r(x);{var N=y=>{var g=ye(),U=pe(g);he(U,1,()=>Object.entries(e(F).inputSchema.properties),_e,(z,$)=>{var K=Lt(()=>Ut(e($),2));let E=()=>e(K)[0],ce=()=>e(K)[1];var X=tr(),Y=r(X),Me=r(Y);t(Y);var ae=a(Y,2);st(ae),t(X),L(Z=>{be(Y,"for",`tool-arg-${E()??""}`),c(Me,`${E()??""} ${Z??""}`),be(ae,"id",`tool-arg-${E()??""}`),be(ae,"placeholder",ce().description||"")},[()=>{var Z;return(Z=e(F).inputSchema.required)!=null&&Z.includes(E())?"*":""}]),ot(ae,()=>e(ie)[E()],Z=>ke(ie,e(ie)[E()]=Z)),v(z,X)}),v(y,g)};_(h,y=>{var g;(g=e(F).inputSchema)!=null&&g.properties&&y(N)})}var C=a(h,2);t(x);var j=a(x,2);{var ve=y=>{var g=rr(),U=a(r(g),2),z=r(U,!0);t(U),t(g),L($=>c(z,$),[()=>JSON.stringify(e(Se),null,2)]),v(y,g)};_(j,y=>{e(Se)&&y(ve)})}t(l),L(()=>{c(f,`Test Tool: ${e(F).name??""}`),C.disabled=e(w)}),ee("click",C,ut),v(b,l)};_(G,b=>{e(F)&&b(A)})}t(T),t(m),v(d,m)},H=d=>{var m=or();v(d,m)};_(k,d=>{e(Re).length>0?d(q):d(H,!1)})}v(n,p)};_(He,n=>{e(S)==="tools"&&n(Ct)})}var ze=a(He,2);{var Pt=n=>{var p=ye(),k=pe(p);{var q=d=>{var m=dr(),T=a(r(m),2);he(T,5,()=>e(Ae),_e,(R,P)=>{var G=ir(),A=r(G),b=r(A,!0);t(A);var l=a(A,2),i=r(l,!0);t(l);var f=a(l,2),x=r(f);t(f),t(G),L(()=>{c(b,e(P).name),c(i,e(P).description),c(x,`URI: ${e(P).uri??""}`)}),v(R,G)}),t(T),t(m),v(d,m)},H=d=>{var m=lr();v(d,m)};_(k,d=>{e(Ae).length>0?d(q):d(H,!1)})}v(n,p)};_(ze,n=>{e(S)==="resources"&&n(Pt)})}var $t=a(ze,2);{var Mt=n=>{var p=nr(),k=a(r(p),2),q=a(r(k),2),H=a(r(q),2),d=r(H),m=a(r(d),2),T=r(m,!0);t(m),t(d);var R=a(d,2),P=a(r(R),2),G=r(P,!0);t(P),t(R),t(H),t(q);var A=a(q,2),b=a(r(A),4),l=r(b),i=r(l),f=r(i,!0);t(i),t(l),t(b);var x=a(b,2),h=r(x),N=a(r(h),4),C=r(N,!0);t(N),t(h),t(x),t(A);var j=a(A,2),ve=a(r(j),4),y=r(ve),g=r(y),U=a(r(g),2),z=r(U),$=r(z);$.textContent=JSON.stringify({mcpServers:{"lamb-filesystem":{command:"npx",args:["-y","@modelcontextprotocol/server-filesystem","/tmp"]}}},null,2),t(z),t(U),t(g);var K=a(g,2),E=a(r(K),2),ce=r(E),X=r(ce);X.textContent=`# First create a custom server:
npx @modelcontextprotocol/create-server lamb-proxy

# Then configure:
${JSON.stringify({mcpServers:{"lamb-proxy":{command:"node",args:["/path/to/lamb-proxy/build/index.js"]}}},null,2)??""}`,t(ce),t(E),t(K),t(y),t(ve),t(j);var Y=a(j,2),Me=a(r(Y),4),ae=r(Me),Z=a(r(ae),2),Xe=r(Z),kt=r(Xe);kt.textContent=JSON.stringify({mcpServers:{"lamb-simple":{command:"node",args:["-e","const http=require('http');process.stdin.on('data',d=>{const r=JSON.parse(d);http.get(`http://localhost:9099/lamb/v1/mcp/status`,{headers:{'Authorization':'Bearer pepino-secret-key','X-User-Email':'your-email@example.com'}},res=>{let data='';res.on('data',c=>data+=c);res.on('end',()=>process.stdout.write(data+'\\n'))})});"]}}},null,2),t(Xe),t(Z),me(2),t(ae);var Le=a(ae,2),Ye=a(r(Le),2),De=r(Ye),Ve=r(De),Tt=r(Ve,!0);t(Ve),t(De),t(Ye),me(2),t(Le);var We=a(Le,2),Qe=a(r(We),2),Ke=r(Qe),Ze=r(Ke),Rt=r(Ze,!0);t(Ze),t(Ke),t(Qe),me(2),t(We),t(Me),t(Y);var et=a(Y,2),tt=a(r(et),2),rt=a(r(tt),4),At=r(rt);At.textContent="POST /prompts/get/{prompt_name}",me(2),t(rt),me(4),t(tt),t(et),me(4),t(k),t(p),L((D,V,W)=>{var I,fe;c(T,se().email||"Not logged in"),c(G,((fe=(I=e(J))==null?void 0:I.api)==null?void 0:fe.lambServer)||"http://localhost:9099"),c(f,D),c(C,se().email||"your-email@example.com"),c(Tt,V),c(Rt,W)},[()=>{var D,V,W,I,fe,at;return JSON.stringify({mcpServers:{"lamb-server":{command:"node",args:["-e",`
const { spawn } = require('child_process');
const https = require('https');

// Simple HTTP proxy to LAMB MCP server
const makeRequest = (method, path, data) => {
  return new Promise((resolve, reject) => {
    const options = {
      hostname: '${new URL(((V=(D=e(J))==null?void 0:D.api)==null?void 0:V.lambServer)||"http://localhost:9099").hostname}',
      port: ${new URL(((I=(W=e(J))==null?void 0:W.api)==null?void 0:I.lambServer)||"http://localhost:9099").port||9099},
      path: '/lamb/v1/mcp' + path,
      method: method,
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer ${((at=(fe=e(J))==null?void 0:fe.api)==null?void 0:at.ltiSecret)||"pepino-secret-key"}',
        'X-User-Email': '${se().email||"your-email@example.com"}'
      }
    };
    
    const req = https.request(options, (res) => {
      let data = '';
      res.on('data', chunk => data += chunk);
      res.on('end', () => resolve(JSON.parse(data)));
    });
    
    req.on('error', reject);
    if (data) req.write(JSON.stringify(data));
    req.end();
  });
};

// Handle MCP protocol
process.stdin.on('data', async (data) => {
  try {
    const request = JSON.parse(data.toString());
    let response;
    
    if (request.method === 'initialize') {
      response = await makeRequest('GET', '/status');
    } else if (request.method === 'prompts/list') {
      response = await makeRequest('GET', '/prompts/list');
    } else if (request.method === 'prompts/get') {
      response = await makeRequest('POST', '/prompts/get/' + request.params.name, request.params.arguments);
    }
    
    process.stdout.write(JSON.stringify(response) + '\\n');
  } catch (err) {
    process.stdout.write(JSON.stringify({error: err.message}) + '\\n');
  }
});
				`]}}},null,2)},()=>{var D,V,W,I;return JSON.stringify({mcpServers:{"lamb-curl":{command:"sh",args:["-c",`while read line; do curl -s -X GET -H "Authorization: Bearer ${((V=(D=e(J))==null?void 0:D.api)==null?void 0:V.ltiSecret)||"pepino-secret-key"}" -H "X-User-Email: ${se().email||"your-email@example.com"}" "${((I=(W=e(J))==null?void 0:W.api)==null?void 0:I.lambServer)||"http://localhost:9099"}/lamb/v1/mcp/status"; done`]}}},null,2)},()=>{var D,V,W,I;return JSON.stringify({mcpServers:{"lamb-python":{command:"python3",args:["-c",`import sys,json,urllib.request;[print(json.dumps(json.loads(urllib.request.urlopen(urllib.request.Request('${((V=(D=e(J))==null?void 0:D.api)==null?void 0:V.lambServer)||"http://localhost:9099"}/lamb/v1/mcp/status',headers={'Authorization':'Bearer ${((I=(W=e(J))==null?void 0:W.api)==null?void 0:I.ltiSecret)||"pepino-secret-key"}','X-User-Email':'${se().email||"your-email@example.com"}'})).read()))) for line in sys.stdin]`]}}},null,2)}]),v(n,p)};_($t,n=>{e(S)==="setup"&&n(Mt)})}t(Ge),L(()=>{Be.disabled=e(w),ue(Ce,1,`py-4 px-1 border-b-2 font-medium text-sm ${e(S)==="prompts"?"border-brand text-brand":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),ge(Ce,e(S)==="prompts"?"border-color: #2271b3; color: #2271b3;":""),ue(Pe,1,`py-4 px-1 border-b-2 font-medium text-sm ${e(S)==="tools"?"border-brand text-brand":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),ge(Pe,e(S)==="tools"?"border-color: #2271b3; color: #2271b3;":""),ue($e,1,`py-4 px-1 border-b-2 font-medium text-sm ${e(S)==="resources"?"border-brand text-brand":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),ge($e,e(S)==="resources"?"border-color: #2271b3; color: #2271b3;":""),ue(je,1,`py-4 px-1 border-b-2 font-medium text-sm ${e(S)==="setup"?"border-brand text-brand":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`),ge(je,e(S)==="setup"?"border-color: #2271b3; color: #2271b3;":"")}),ee("click",Be,Ue),ee("click",Ce,vt),ee("click",Pe,ct),ee("click",$e,pt),ee("click",je,()=>o(S,"setup")),v(s,B)};_(xt,s=>{se().isLoggedIn?s(yt,!1):s(ft)})}t(Ee),v(it,Ee),Nt(),nt()}export{Pr as component};
