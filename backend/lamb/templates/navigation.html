<!-- Top Navigation Bar -->
<div id="top-bar">
    <div class="nav-left">
        <div class="menu-item" data-path="/lamb/v1">Home LAMB</div>
        <div class="menu-item" data-path="/lamb/v1/auth">Permissions</div>
        <div class="menu-item" data-path="/lamb/v1/assistant">Assistant</div>
        <div class="menu-item" data-path="/lamb/v1/lti_users">LTI Users</div>
        <div class="menu-item" data-path="/lamb/v1/simple_lti">Simple LTI</div>
        <div class="menu-item" data-path="/lamb/v1/OWI">OWI Management</div>
        <div class="menu-item" data-path="/lamb/v1/chromadb">ChromaDB</div>
        <div class="menu-item" data-path="/lamb/v1/creator_user">Creator Users</div>
        <div class="menu-item" data-path="/lamb/v1/config">Config</div>
    </div>
    <div class="nav-right">
        <div id="user-section" style="display: none;">
            <span id="userDisplayName" class="user-name"></span>
            <button onclick="logout()" class="logout-btn">Logout</button>
        </div>
    </div>
</div>

<script>
    // Set active menu item based on current path
    document.addEventListener('DOMContentLoaded', function() {
        const currentPath = window.location.pathname;
        const menuItems = document.querySelectorAll('#top-bar .menu-item');
        
        menuItems.forEach(item => {
            const itemPath = item.getAttribute('data-path');
            if (currentPath === itemPath || 
                (currentPath.startsWith(itemPath) && itemPath !== '/') ||
                (currentPath.startsWith('/lamb/v1/OWI') && itemPath === '/lamb/v1/owi_test')) {
                item.classList.add('active');
            }
            
            item.addEventListener('click', () => {
                window.location.href = itemPath;
            });
        });

        // Check for authenticated user and update display
        const authenticatedUser = localStorage.getItem('authenticatedUser');
        if (authenticatedUser) {
            document.getElementById('user-section').style.display = 'flex';
            document.getElementById('userDisplayName').textContent = authenticatedUser;
        }
    });

    function logout() {
        // Clear authentication data
        localStorage.removeItem('authenticatedUser');
        
        // Redirect to home page
        window.location.href = '/lamb/v1';
    }
</script> 
